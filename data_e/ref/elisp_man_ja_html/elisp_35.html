<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="ja">
<!-- Created on October, 1  2005 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=euc-jp">
<META NAME="keywords" CONTENT="meadow,mule,emacs,lisp,elisp,gnus,setting,設定,unix,cygwin">
<META http-equiv="Content-Script-Type" content="text/javascript">
<META NAME="description" CONTENT="Meadowの設定を紹介するページです">
<TITLE>GNU Emacs Lispリファレンスマニュアル:  構文テーブル</TITLE>

<META NAME="description" CONTENT="GNU Emacs Lispリファレンスマニュアル:  構文テーブル">
<META NAME="keywords" CONTENT="GNU Emacs Lispリファレンスマニュアル:  構文テーブル">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

<LINK REL="contents" HREF="elisp_toc.html#SEC_Contents">
<LINK REL="index" HREF="elisp_48.html#SEC681">
<LINK REL="next" HREF="elisp_36.html#SEC576">
<LINK REL="prev" HREF="elisp_34.html#SEC549">

<META http-equiv="Content-Style-Type" content="text/css">
<!-- 鶯と龜 ←日本語EUC誤判別対策用らしい; -->
<link rel="StyleSheet" href="../../../../soft/css/midnight.css" type="text/css" id="css1">
<script type="text/javascript" src="style1.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../soft/css/meadowmemo.css">

</HEAD>
<BODY LANG="ja" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<!--Infoseek Analyzer start-->
<script LANGUAGE="javascript">PgNo=6;</script>
<script src="http://js1.infoseek.co.jp/bin/57/00170.js"></script>
<noscript><a href="http://ax1.www.infoseek.co.jp/bin/go?0017057f" target="_blank">
<img src="http://ax1.www.infoseek.co.jp/bin/logo?0017057f" border=0></a></noscript>
<!--Infoseek Analyzer end-->
<a name="top"> </a>

<br><A NAME="SEC564"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_34.html#SEC563"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC565"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_34.html#SEC549"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_36.html#SEC576"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Syntax Tables"></A>
<H1> 34. 構文テーブル </H1>
<!--docid::SEC564::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Tables">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Tables</a>"<br>
"texi/elisp21/構文テーブル"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B9%BD%CA%B8%A5%C6%A1%BC%A5%D6%A5%EB">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX2649"></A>
<A NAME="IDX2650"></A>
<A NAME="IDX2651"></A>
<P>

<EM>構文テーブル</EM>（syntax table）は、
各文字の構文的なテキスト上の機能を指定します。
この情報は、<EM>構文解析関数</EM>や複雑な移動を行うコマンドなどが
単語やシンボルなどの構文要素がどこで始まりどこで終るかを調べるために使います。
現在の構文テーブルが、本章の関数に加えて、
単語単位の移動関数（see 節 <A HREF="elisp_30.html#SEC466">29.2.2 単語単位の移動</A>）、
リスト単位の移動関数（see 節 <A HREF="elisp_30.html#SEC470">29.2.6 式単位の移動</A>）の意味を制御します。
<P>

<div class="menuindex"><SCRIPT language=JavaScript src="index34.js"></SCRIPT></div><noscript><BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC565">34.1 構文テーブルの概念</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Basic concepts of syntax tables.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC566">34.2 構文記述子</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How characters are classified.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC569">34.3 構文テーブル向け関数</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How to create, examine and alter syntax tables.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC570">34.4 構文属性</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Overriding syntax with text properties.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC571">34.5 移動と構文</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Moving over characters with certain syntaxes.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC572">34.6 釣り合った式の解析</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Parsing balanced expressions
                                using the syntax table.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC573">34.7 標準的な構文テーブル</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Syntax tables used by various major modes.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC574">34.8 構文テーブルの内部</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How syntax table information is stored.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC575">34.9 カテゴリ</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Another way of classifying character syntax.</TD></TR>
</TABLE></BLOCKQUOTE></noscript>
<P>

<A NAME="Syntax Basics"></A>
<HR SIZE="6">
<br><A NAME="SEC565"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC564"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC566"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Syntax Basics"></A>
<H2> 34.1 構文テーブルの概念 </H2>
<!--docid::SEC565::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Basics">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Basics</a>"<br>
"texi/elisp21/構文テーブルの概念"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B9%BD%CA%B8%A5%C6%A1%BC%A5%D6%A5%EB%A4%CE%B3%B5%C7%B0">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

<EM>構文テーブル</EM>（syntax table）は、
バッファ内の各文字の構文上の用途に関する情報をEmacsに与えます。
この情報は、<EM>構文解析関数</EM>や複雑な移動を行うコマンドなどが
単語やシンボルなどの構文要素がどこで始まりどこで終るかを調べるために使います。
現在の構文テーブルが、本章の関数に加えて、
単語単位の移動関数（see 節 <A HREF="elisp_30.html#SEC466">29.2.2 単語単位の移動</A>）、
リスト単位の移動関数（see 節 <A HREF="elisp_30.html#SEC470">29.2.6 式単位の移動</A>）の意味を制御します。
<P>

構文テーブルは文字テーブル（see 節 <A HREF="elisp_7.html#SEC99">6.6 文字テーブル</A>）です。
<VAR>c</VAR>で添字付けられる要素は、コードが<VAR>c</VAR>である文字について記述します。
要素の値は、当該文字の構文上の機能を符号化したリストです。
<P>

構文テーブルは、テキスト内を動き回るためにのみ使われ、
EmacsのLispリーダはこれを使いません。
Emacs LispがLisp式を読むときには、組み込みの構文規則を使います。
（入力構文を再定義する方法を与えるLispシステムもあるが、
単純であるようにEacs Lispではこの機能を省くことにした。）
<P>

各バッファには独自のメジャーモードがあり、
各メジャーモードはさまざまな文字の構文クラスを独自に扱います。
たとえば、lispモードでは文字`<SAMP>;</SAMP>'はコメントを始めますが、
Cモードでは文を終らせます。
このような多様性を扱うために、
Emacsは各バッファごとにローカルな構文テーブルを選びます。
典型的には、各メジャーモードに独自の構文テーブルがあり、
そのモードを使っているバッファに当該構文テーブルをインストールします。
この構文テーブルを変更すると、
同じモードのバッファだけでなく将来そのモードになったバッファでも
構文を変更してしまいます。
類似したモードでは1つの構文テーブルを共有することがあります。
構文テーブルの設定方法の例については、See 節 <A HREF="elisp_23.html#SEC342">22.1.2 メジャーモードの例</A>。
<P>

構文テーブルでは、標準の構文テーブルから文字のデータを継承し、
一方でその他の文字に独自の指定を行えます。
構文クラスの『継承』とは、
『標準の構文テーブルから当該文字の構文を引き継ぐ』ことです。
ある文字に対して標準の構文を変更すると、
それを継承するすべての構文テーブルに影響します。
<P>

<A NAME="IDX2652"></A>
<DL>
<DT><U>Function:</U> <B>syntax-table-p</B> <I>object</I>
<DD>この関数は、<VAR>object</VAR>が構文テーブルならば<CODE>t</CODE>を返す。
</DL>
<P>

<A NAME="Syntax Descriptors"></A>
<HR SIZE="6">
<br><A NAME="SEC566"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC565"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC567"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Syntax Descriptors"></A>
<H2> 34.2 構文記述子 </H2>
<!--docid::SEC566::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Descriptors">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Descriptors</a>"<br>
"texi/elisp21/構文記述子"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B9%BD%CA%B8%B5%AD%BD%D2%BB%D2">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX2653"></A>
<P>

本節では、文字の構文を指定する構文クラスと構文フラグ、
それらを<EM>構文記述子</EM>（syntax descriptor）としてどのように
表現するかについて述べます。
構文記述子はLisp文字列であり、
望みの構文を指定するために<CODE>modify-syntax-entry</CODE>に渡します。
<P>

構文テーブルは、各文字の構文クラスを指定します。
ある構文テーブルでの文字のクラスと
他の構文テーブルでの当該文字のクラスとのあいだにはなんの関係も必要ありません。
<P>

各クラスはニーモニック文字（指定子）で区別します。
ニーモニック文字は、
クラスを指定する必要があるときにクラス名として働きます。
通常、指定子の文字は当該クラスによく現れるものです。
しかしながら、指定子としての意味は不変で、その文字の現在の構文とは独立です。
<P>

<A NAME="IDX2654"></A>
構文記述子は、構文クラス、（括弧のクラスの場合にのみ使われる）
釣り合う文字、フラグを指定するLisp文字列です。
最初の文字は、構文クラスを指定する文字（指定子）です。
2番目の文字はその文字に釣り合う文字ですが、使用しない場合には空白です。
そのあとに望みのフラグが続きます。
釣り合う文字やフラグが必要なければ、文字1つだけで十分です。
<P>

たとえば、Cモードにおける文字`<SAMP>*</SAMP>'の構文記述子は
`<SAMP>. 23</SAMP>'（句読点、釣り合う文字なし、
コメント開始の2番目の文字、コメント終了の最初の文字）であり、
`<SAMP>/</SAMP>'は`<SAMP>. 14</SAMP>'（句読点、釣り合う文字なし、
コメント開始の最初の文字、コメント終了の2番目の文字）です。
<P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC567">34.2.1 構文クラス一覧</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Table of syntax classes.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_35.html#SEC568">34.2.2 構文フラグ</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Additional flags each character can have.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Syntax Class Table"></A>
<HR SIZE="6">
<br><A NAME="SEC567"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC566"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC568"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Syntax Class Table"></A>
<H3> 34.2.1 構文クラス一覧 </H3>
<!--docid::SEC567::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Class%20Table">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Class%20Table</a>"<br>
"texi/elisp21/構文クラス一覧"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B9%BD%CA%B8%A5%AF%A5%E9%A5%B9%B0%EC%CD%F7">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

以下の一覧は、構文クラス、そのクラスを表す文字（指定子）、
そのクラスの意味、その使用例です。
<P>

<A NAME="IDX2655"></A>
<DL>
<DT><U>構文クラス:</U> <B>白文字（whitespace character）</B>
<DD><EM>白文字</EM>（`<SAMP> </SAMP>'か`<SAMP>-</SAMP>'で指定）は、
シンボルや単語を互いに区切る。
典型的には、白文字には他の構文上の意味はなく、
複数個の白文字は1つの白文字と構文的には等価である。
ほとんどすべてのメジャーモードでは、
空白、タブ、改行、ページ送りは白文字である。
</DL>
<P>

<A NAME="IDX2656"></A>
<DL>
<DT><U>構文クラス:</U> <B>単語構成文字（word constituent）</B>
<DD><EM>単語構成文字</EM>（`<SAMP>w</SAMP>'で指定）は普通の英単語の一部分であり、
典型的には、プログラムの変数やコマンド名に使われる。
すべての大英文字、小英文字、数字文字は、典型的には単語構成文字である。
</DL>
<P>

<A NAME="IDX2657"></A>
<DL>
<DT><U>構文クラス:</U> <B>シンボル構成文字（symbol constituent）</B>
<DD><EM>シンボル構成文字</EM>（`<SAMP>_</SAMP>'で指定）は、
単語構成文字に加えて、変数やコマンド名に使われる追加の文字である。
たとえば、英単語の一部分ではないがシンボル名に使える特定の文字を指定
するために、Lispモードではシンボル構成文字クラスを使う。
このような文字は`<SAMP>$&#38;*+-_&#60;&#62;</SAMP>'である。
標準のCでは、単語構成文字でなくてシンボルに使える唯一の文字は
下線（`<SAMP>_</SAMP>'）である。
</DL>
<P>

<A NAME="IDX2658"></A>
<DL>
<DT><U>構文クラス:</U> <B>句読点文字（punctuation character）</B>
<DD><EM>句読点文字</EM>（`<SAMP>.</SAMP>'で指定）は、
英文の句読点として使われたり、
プログラム言語でシンボルを区切るために使われる文字である。
emacs-lispモードを含むほとんどのプログラム言語向けモードでは、
シンボル構成文字でも単語構成文字でもない少数の文字には別の用途があるため、
このクラスの文字はない。
</DL>
<P>

<A NAME="IDX2659"></A>
<DL>
<DT><U>構文クラス:</U> <B>開き括弧文字（open parenthesis character）</B>
<DD><A NAME="IDX2660"></A>
<DT><U>構文クラス:</U> <B>閉じ括弧文字（close parenthesis character）</B>
<DD><A NAME="IDX2661"></A>
開き／閉じ<EM>括弧文字</EM>は、文や式を囲む相異なる対として使われる文字である。
そのようなグループ化は、開き括弧文字で始まり閉じ括弧文字で終る。
各開き括弧文字は特定の閉じ括弧文字に対応し、その逆もいえる。
Emacsは、通常、閉じ括弧文字を挿入すると
対応する開き括弧文字を短時間指し示す。
see 節 <A HREF="elisp_38.html#SEC616">37.11 括弧を点滅する</A>。
<P>

開き括弧文字クラスは`<SAMP>(</SAMP>'で指定し、
閉じ括弧文字クラスは`<SAMP>)</SAMP>'で指定する。
<P>

英文向けのテキスト（text）モードとCモードでは、
括弧の対は、`<SAMP>()</SAMP>'、`<SAMP>[]</SAMP>'、`<SAMP>{}</SAMP>'である。
Emacs Lispでは、リストとベクトルの区切り（`<SAMP>()</SAMP>'と`<SAMP>[]</SAMP>'）は、
括弧文字としてクラス分けされる。
</DL>
<P>

<A NAME="IDX2662"></A>
<DL>
<DT><U>構文クラス:</U> <B>文字列クォート（string quote）</B>
<DD><EM>文字列クォート文字</EM>（`<SAMP>"</SAMP>'で指定）は、
LispやCを含む多くの言語で文字列定数を区切るために使われる。
同じ文字列クォート文字が文字列の最初と最後に現れる。
<P>

Emacsの構文解析機能では、文字列を1つの字句とみなす。
文字列内の文字の普通の構文的な意味は抑制される。
<P>

lisp向けのモードには文字列クォート文字が2つ、
ダブルクォート（`<SAMP>"</SAMP>'）と縦棒（`<SAMP>|</SAMP>'）がある。
`<SAMP>|</SAMP>'はEmacs Lispでは使わないがCommon Lispで使う。
Cにも2つの文字列クォート文字、
文字列用のダブルクォートと文字定数用のシングルクォート（`<SAMP>'</SAMP>'）がある。
<P>

英文はプログラム言語ではないので、英文には文字列クォート文字はない。
英文でも引用符は用いるが、その内側の文字の普通の構文的な属性を
抑制したくないのである。
</DL>
<P>

<A NAME="IDX2663"></A>
<DL>
<DT><U>構文クラス:</U> <B>エスケープ（escape）</B>
<DD><EM>エスケープ文字</EM>（`<SAMP>\</SAMP>'で指定）は、
Cの文字列や文字定数で使われるようなエスケープシーケンスを開始する。
CとLispでは、文字`<SAMP>\</SAMP>'はこのクラスに属する。
（Cではこの文字は文字列の内側だけで使われるが、
Cモードでつねにこのように扱っても問題ないことがわかった。）
<P>

<CODE>words-include-escapes</CODE>が<CODE>nil</CODE>以外であると、
このクラスの文字は単語の一部分と解釈される。
see 節 <A HREF="elisp_30.html#SEC466">29.2.2 単語単位の移動</A>。
</DL>
<P>

<A NAME="IDX2664"></A>
<DL>
<DT><U>構文クラス:</U> <B>文字クォート（character quote）</B>
<DD><EM>文字クォート文字</EM>（`<SAMP>/</SAMP>'で指定）は、
後続の1文字をクォートし、通常の構文上の意味を抑制する。
直後の1文字のみに影響するという点で、エスケープ文字と異なる。
<P>

<CODE>words-include-escapes</CODE>が<CODE>nil</CODE>以外であると、
このクラスの文字は単語の一部分と解釈される。
see 節 <A HREF="elisp_30.html#SEC466">29.2.2 単語単位の移動</A>。
<P>

このクラスは、TeXモードのバックスラッシュに使われる。
</DL>
<P>

<A NAME="IDX2665"></A>
<DL>
<DT><U>構文クラス:</U> <B>対になった区切り（paired delimiter）</B>
<DD><EM>対になった区切り文字</EM>（`<SAMP>$</SAMP>'）は文字列クォート文字と同様であるが、
区切り文字のあいだにある文字の構文上の属性を抑制しない点が異なる。
現在、対になった区切りはTeXモードのみで使い、
数学モードに出入りする`<SAMP>$</SAMP>'である。
</DL>
<P>

<A NAME="IDX2666"></A>
<DL>
<DT><U>構文クラス:</U> <B>式前置子（expression prefix）</B>
<DD><EM>式前置演算子</EM>（`<SAMP>'</SAMP>'）は、式のまえに現れると
式の一部であるとみなされる構文上の演算子に使われる。
lisp向けのモードでは、（クォートする）アポストロフ`<SAMP>'</SAMP>'、
（マクロで使う）コンマ`<SAMP>,</SAMP>'、
（ある種のデータの入力構文に使われる）`<SAMP>#</SAMP>'の文字がそうである。
</DL>
<P>

<A NAME="IDX2667"></A>
<DL>
<DT><U>構文クラス:</U> <B>コメント開始（comment starter）</B>
<DD><A NAME="IDX2668"></A>
<DT><U>構文クラス:</U> <B>コメント終了（comment ender）</B>
<DD><A NAME="IDX2669"></A>
<EM>コメント開始</EM>文字と<EM>コメント終了</EM>文字は、
さまざまな言語でコメントを区切るために用いられる。
これらのクラスは、それぞれ、`<SAMP>&#60;</SAMP>'と`<SAMP>&#62;</SAMP>'で指定する。
<P>

英文にはコメント文字はない。
Lispでは、セミコロン（`<SAMP>;</SAMP>'）でコメントが始まり、
改行かページ送りで終る。
</DL>
<P>

<A NAME="IDX2670"></A>
<DL>
<DT><U>構文クラス:</U> <B>継承（inherit）</B>
<DD>この構文クラスは特定の構文を指定しない。
標準の構文テーブルで当該文字の構文を探す指定である。
この構文クラスは`<SAMP>&#64;</SAMP>'で指定する。
</DL>
<P>

<A NAME="IDX2671"></A>
<DL>
<DT><U>構文クラス:</U> <B>汎用コメント区切り（generic comment delimiter）</B>
<DD><EM>汎用コメント区切り</EM>文字は、特別な種類のコメントを
始めて終える文字である。
<EM>任意の</EM>汎用コメント区切り文字は
<EM>任意の</EM>汎用コメント区切り文字に対応するが、
普通のコメント開始文字／コメント終了文字には対応しない。
汎用コメント区切り文字同士のみで対応する。
<P>

この構文クラスは、主にテキスト属性<CODE>syntax-table</CODE>
（see 節 <A HREF="elisp_35.html#SEC570">34.4 構文属性</A>）で使うことを意図したものである。
任意の範囲の文字がコメントを形成すると印を付けるには、
その範囲の先頭と末尾の文字にそれらが汎用コメント区切りであることを
識別する属性<CODE>syntax-table</CODE>を与える。
</DL>
<P>

<A NAME="IDX2672"></A>
<DL>
<DT><U>構文クラス:</U> <B>汎用文字列区切り（generic string delimiter）</B>
<DD><EM>汎用文字列区切り</EM>文字は、文字列を始めて終える。
このクラスは文字列クォートクラスと異なり、
汎用文字列区切りは他の汎用文字列区切りに対応し、
普通の文字列クォート文字には対応しない。
<P>

この構文クラスは、主にテキスト属性<CODE>syntax-table</CODE>
（see 節 <A HREF="elisp_35.html#SEC570">34.4 構文属性</A>）で使うことを意図したものである。
任意の範囲の文字が文字列定数を形成すると印を付けるには、
その範囲の先頭と末尾の文字にそれらが汎用文字列区切りであることを
識別する属性<CODE>syntax-table</CODE>を与える。
</DL>
<P>

<A NAME="Syntax Flags"></A>
<HR SIZE="6">
<br><A NAME="SEC568"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC567"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC569"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Syntax Flags"></A>
<H3> 34.2.2 構文フラグ </H3>
<!--docid::SEC568::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Flags">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Flags</a>"<br>
"texi/elisp21/構文フラグ"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B9%BD%CA%B8%A5%D5%A5%E9%A5%B0">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX2673"></A>
<P>

構文テーブルの各文字には、構文クラスに加えて、フラグも指定できます。
文字`<SAMP>1</SAMP>'、`<SAMP>2</SAMP>'、`<SAMP>3</SAMP>'、`<SAMP>4</SAMP>'、`<SAMP>b</SAMP>'、`<SAMP>p</SAMP>'で
表現される6つの可能なフラグがあります。
<P>

`<SAMP>p</SAMP>'を除くすべてのフラグは、複数の文字から成るコメント区切りの記述に
使います。
数字フラグは、当該文字のクラスで表される構文上の属性に<EM>加えて</EM>、
コメント列の一部分でもあることを示します。
フラグはクラスや他のフラグとは独立であり、
Cモードの`<SAMP>*</SAMP>'のような文字のためにあります。
Cモードの`<SAMP>*</SAMP>'は、句読点文字である<EM>とともに</EM>、
コメント開始列の2番目の文字`<SAMP>/*</SAMP>'<EM>でも</EM>あり、
コメント終了列の最初の文字`<SAMP>*/</SAMP>'<EM>でも</EM>あります。
<P>

文字<VAR>c</VAR>に対して可能なフラグとそれらの意味を以下に示します。
<P>

<UL>
<LI>
`<SAMP>1</SAMP>'は、<VAR>c</VAR>が2文字のコメント開始列を始めることを意味する。
<P>

<LI>
`<SAMP>2</SAMP>'は、<VAR>c</VAR>がそのような列の2番目の文字であることを意味する。
<P>

<LI>
`<SAMP>3</SAMP>'は、<VAR>c</VAR>が2文字のコメント終了列を始めることを意味する。
<P>

<LI>
`<SAMP>4</SAMP>'は、<VAR>c</VAR>がそのような列の2番目の文字であることを意味する。
<P>

<LI>
`<SAMP>b</SAMP>'は、コメント区切りとしての<VAR>c</VAR>が
もう1つの『b』形式のコメントに属することを意味する。
<P>

Emacsでは、任意の1つの構文テーブルで2つの形式のコメントを同時に扱える。
これはC++のためである。
コメント構文の各形式には、独自の開始列と独自の終了列がある。
各コメントはどちらか1つの形式である必要がある。
したがって、『b』形式のコメント開始列で始まるものは、
『b』形式のコメント終了列で終る必要がある。
<P>

2つのコメント開始列は同じ文字で始まる必要があり、2文字目のみが異なる。
『b』形式のコメント開始列の2番目の文字にフラグ`<SAMP>b</SAMP>'を付ける。
<P>

（1文字か2文字の）コメント終了列は、
その最初の文字にフラグ`<SAMP>b</SAMP>'が付いていると『b』形式に適用する。
さもなければ『a』形式に適用する。
<P>

C++向けの適切なコメント構文の設定はつぎのとおりである。
<P>

<DL COMPACT>
<DT>`<SAMP>/</SAMP>'
<DD>`<SAMP>124b</SAMP>'
<DT>`<SAMP>*</SAMP>'
<DD>`<SAMP>23</SAMP>'
<DT>newline
<DD>`<SAMP>&#62;b</SAMP>'
</DL>
<P>

これは4つのコメント区切り列を定義する。
<P>

<DL COMPACT>
<DT>`<SAMP>/*</SAMP>'
<DD>2文字目の`<SAMP>*</SAMP>'にはフラグ`<SAMP>b</SAMP>'がないので、
これは『a』形式のコメント開始列である。
<P>

<DT>`<SAMP>//</SAMP>'
<DD>2文字目の`<SAMP>/</SAMP>'にはフラグ`<SAMP>b</SAMP>'があるので、
これは『b』形式のコメント開始列である。
<P>

<DT>`<SAMP>*/</SAMP>'
<DD>2文字目の`<SAMP>*</SAMP>'にはフラグ`<SAMP>b</SAMP>'がないので、
これは『a』形式のコメント終了列である。
<P>

<DT>newline
<DD>改行にはフラグ`<SAMP>b</SAMP>'があるので、
これは『b』形式のコメント終了列である。
</DL>
<P>

<LI>
`<SAMP>p</SAMP>'は、Lisp構文向けの追加の『前置文字』を示す。
これらの文字は式のあいだに現れるときには白文字として扱う。
式の内側に現れると、それらの通常の構文コードに従って扱われる。
<P>

関数<CODE>backward-prefix-chars</CODE>は後方へ向けて移動するときには、
構文クラスが式前置子（`<SAMP>'</SAMP>'）である文字に加えて
これらの文字も飛び越す。
see 節 <A HREF="elisp_35.html#SEC571">34.5 移動と構文</A>。
</UL>
<P>

<A NAME="Syntax Table Functions"></A>
<HR SIZE="6">
<br><A NAME="SEC569"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC568"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC570"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Syntax Table Functions"></A>
<H2> 34.3 構文テーブル向け関数 </H2>
<!--docid::SEC569::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Table%20Functions">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Table%20Functions</a>"<br>
"texi/elisp21/構文テーブル向け関数"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B9%BD%CA%B8%A5%C6%A1%BC%A5%D6%A5%EB%B8%FE%A4%B1%B4%D8%BF%F4">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

本節では、構文テーブルを作成／参照／変更するための関数について述べます。
<P>

<A NAME="IDX2674"></A>
<DL>
<DT><U>Function:</U> <B>make-syntax-table</B>
<DD>この関数は、新たな構文テーブルを作成する。
英文字やコントロール文字の構文は標準の構文テーブルから継承する。
他の文字の構文は標準の構文テーブルからコピーする。
<P>

ほとんどのメジャーモードの構文テーブルはこのように作成する。
</DL>
<P>

<A NAME="IDX2675"></A>
<DL>
<DT><U>Function:</U> <B>copy-syntax-table</B> <I>&#38;optional table</I>
<DD>この関数は、構文テーブル<VAR>table</VAR>のコピーを作成しそれを返す。
<VAR>table</VAR>を指定しないと（あるいは<CODE>nil</CODE>）、
現在の構文テーブルのコピーを返す。
<VAR>table</VAR>が構文テーブルでないとエラーを通知する。
</DL>
<P>

<A NAME="IDX2676"></A>
<DL>
<DT><U>コマンド:</U> <B>modify-syntax-entry</B> <I>char syntax-descriptor &#38;optional table</I>
<DD>この関数は、文字<VAR>char</VAR>の構文指定を
構文記述子<VAR>syntax-descriptor</VAR>とする。
構文テーブル<VAR>table</VAR>においてのみ構文を変更し、
他の構文テーブルは変更しない。
<VAR>table</VAR>のデフォルトはカレントバッファの構文テーブルである。
<VAR>syntax-descriptor</VAR>で望みの構文を指定する。
これは、クラス指定子で始まり、
必要に応じて釣り合う文字とフラグを含む文字列である。
see 節 <A HREF="elisp_35.html#SEC566">34.2 構文記述子</A>。
<P>

この関数はつねに<CODE>nil</CODE>を返す。
当該構文テーブルにおけるこの文字に対する古い構文情報は破棄される。
<P>

構文記述子の最初の文字が12個の構文クラス指定子の1つでないとエラーを通知する。
<VAR>char</VAR>が文字でなくてもエラーを通知する。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>【例】

;; 空白文字をクラス白文字にする
(modify-syntax-entry ?\  " ")
     => nil

;; `<SAMP>$</SAMP>'を開き括弧文字にする
;;   対応する閉じる文字は`<SAMP>^</SAMP>'である
(modify-syntax-entry ?$ "(^")
     => nil

;; `<SAMP>^</SAMP>'を閉じ括弧文字にする
;;   対応する開く文字は{$である}
(modify-syntax-entry ?^ ")$")
     => nil

;; `<SAMP>/</SAMP>'を句読点文字にする
;;   コメント開始列の最初の文字、および、
;;   コメント終了列の2番目の文字にもする
;;   これはCモードで用いられる
(modify-syntax-entry ?/ ". 14")
     => nil
</pre></td></tr></table></DL>
<P>

<A NAME="IDX2677"></A>
<DL>
<DT><U>Function:</U> <B>char-syntax</B> <I>character</I>
<DD>この関数は、文字<VAR>character</VAR>の構文クラスを指定子で表したもので返す。
これは構文クラス<EM>のみ</EM>を返し、釣り合う文字や構文フラグは返さない。
<P>

<VAR>char</VAR>が文字でないとエラーを通知する。
<P>

つぎの例はCモードにあてはまる。
最初の例は、空白の構文クラスが（空白で表現される）白文字であることを示す。
2番目の例は、`<SAMP>/</SAMP>'の構文が句読点であることを示す。
これは、この文字がコメント開始／終了の一部分でもあることは示さない。
3番目の例は、開き括弧は開き括弧クラスであることを示す。
これは、この文字に釣り合う文字が`<SAMP>)</SAMP>'であることは示さない。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(string (char-syntax ?\ ))
     => " "

(string (char-syntax ?/))
     => "."

(string (char-syntax ?\())
     => "("
</pre></td></tr></table><P>

ここでは、<CODE>char-syntax</CODE>が返す文字を
見やすくするために<CODE>string</CODE>を用いた。
</DL>
<P>

<A NAME="IDX2678"></A>
<DL>
<DT><U>Function:</U> <B>set-syntax-table</B> <I>table</I>
<DD>この関数は、<VAR>table</VAR>をカレントバッファの構文テーブルにする。
<VAR>table</VAR>を返す。
</DL>
<P>

<A NAME="IDX2679"></A>
<DL>
<DT><U>Function:</U> <B>syntax-table</B>
<DD>この関数は、現在の構文テーブル、つまり、
カレントバッファの構文テーブルを返す。
</DL>
<P>

<A NAME="Syntax Properties"></A>
<HR SIZE="6">
<br><A NAME="SEC570"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC569"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC571"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Syntax Properties"></A>
<H2> 34.4 構文属性 </H2>
<!--docid::SEC570::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Properties">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Properties</a>"<br>
"texi/elisp21/構文属性"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B9%BD%CA%B8%C2%B0%C0%AD">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX2680"></A>
<P>

言語の構文を指定するに十分なほど構文テーブルに柔軟性がないときには、
バッファ内の特定の文字の出現に対して構文テーブルに優先する
テキスト属性<CODE>syntax-table</CODE>を指定できます。
See 節 <A HREF="elisp_32.html#SEC513">31.19 テキスト属性</A>。
<P>

テキスト属性<CODE>syntax-table</CODE>の正しい値はつぎのとおりです。
<P>

<DL COMPACT>
<DT><VAR>syntax-table</VAR>
<DD>属性値が構文テーブルであると、
文字のこの出現に対する構文を判定するために
カレントバッファの構文テーブルのかわりにこのテーブルを用いる。
<P>

<DT><CODE>(<VAR>syntax-code</VAR> . <VAR>matching-char</VAR>)</CODE>
<DD>この形のコンスセルは、文字のこの出現の構文を指定する。
<P>

<DT><CODE>nil</CODE>
<DD>属性が<CODE>nil</CODE>であると、通常どおり、
現在の構文テーブルから文字の構文を判定する。
</DL>
<P>

<A NAME="IDX2681"></A>
<DL>
<DT><U>Variable:</U> <B>parse-sexp-lookup-properties</B>
<DD><A NAME="IDX2682"></A>
これが<CODE>nil</CODE>以外であると、
構文を解析する関数は、テキスト属性による構文指定に注意を払う。
さもなければ、現在の構文テーブルのみを用いる。
</DL>
<P>

<A NAME="Motion and Syntax"></A>
<HR SIZE="6">
<br><A NAME="SEC571"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC570"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC572"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Motion and Syntax"></A>
<H2> 34.5 移動と構文 </H2>
<!--docid::SEC571::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Motion%20and%20Syntax">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Motion%20and%20Syntax</a>"<br>
"texi/elisp21/移動と構文"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B0%DC%C6%B0%A4%C8%B9%BD%CA%B8">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

本節では、特定の構文クラスを持つ文字を越えて移動するための
関数について述べます。
<P>

<A NAME="IDX2683"></A>
<DL>
<DT><U>Function:</U> <B>skip-syntax-forward</B> <I>syntaxes &#38;optional limit</I>
<DD>この関数は、<VAR>syntaxes</VAR>で指定される構文クラスを持つ文字を越えて
ポイントを前方へ向けて移動する。
バッファの末尾、（指定されていれば）<VAR>limit</VAR>の位置、
飛び越さない文字のいずれかに出会うと停止する。
戻り値は移動距離であり非負整数である。
</DL>
<P>

<A NAME="IDX2684"></A>
<DL>
<DT><U>Function:</U> <B>skip-syntax-backward</B> <I>syntaxes &#38;optional limit</I>
<DD>この関数は、<VAR>syntaxes</VAR>で指定される構文クラスである文字を越えて
ポイントを後方へ向けて移動する。
バッファの先頭、（指定されていれば）<VAR>limit</VAR>の位置、
飛び越さない文字のいずれかに出会うと停止する。
<P>

戻り値は移動距離である。
それはゼロか負の整数である。
</DL>
<P>

<A NAME="IDX2685"></A>
<DL>
<DT><U>Function:</U> <B>backward-prefix-chars</B>
<DD>この関数は、式前置子構文の文字を飛び越えてポイントを後方へ向けて移動する。
式前置子クラスやフラグ`<SAMP>p</SAMP>'を持つ文字を飛び越す。
</DL>
<P>

<A NAME="Parsing Expressions"></A>
<HR SIZE="6">
<br><A NAME="SEC572"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC571"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC573"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Parsing Expressions"></A>
<H2> 34.6 釣り合った式の解析 </H2>
<!--docid::SEC572::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Parsing%20Expressions">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Parsing%20Expressions</a>"<br>
"texi/elisp21/釣り合った式の解析"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C4%E0%A4%EA%B9%E7%A4%C3%A4%BF%BC%B0%A4%CE%B2%F2%C0%CF">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

ここでは、括弧が対になっている<EM>S式</EM>（sexp）とも呼ばれる
釣り合った式を解析したり走査する関数について述べます。
構文テーブルで文字の解釈を制御することで、
LispモードではLispの式に対して、CモードではCの式に対して
これらの関数を用いることができます。
釣り合った式を飛び越えて移動するための便利な上位レベルの関数については、
See 節 <A HREF="elisp_30.html#SEC470">29.2.6 式単位の移動</A>。
<P>

<A NAME="IDX2686"></A>
<DL>
<DT><U>Function:</U> <B>parse-partial-sexp</B> <I>start limit &#38;optional target-depth stop-before state stop-comment</I>
<DD>この関数は、カレントバッファの<VAR>start</VAR>から始まるS式を解析するが、
<VAR>limit</VAR>を越えては走査しない。
位置<VAR>limit</VAR>で止まるか、
以下に述べる条件が満たされると解析を停止し、当該箇所にポイントを置く。
ポイントを置いた箇所での解析状況を表す値を返す。
<P>

<VAR>state</VAR>が<CODE>nil</CODE>であると、
位置<VAR>start</VAR>は、関数定義の先頭のような
括弧の構造のトップレベルであると仮定する。
あるいは、構造の途中から解析を再開したい場合もある。
それには、解析の初期状態を引数<VAR>state</VAR>に指定する必要がある。
<P>

<A NAME="IDX2687"></A>
3番目の引数<VAR>target-depth</VAR>が<CODE>nil</CODE>以外であると、
括弧の深さが<VAR>target-depth</VAR>に等しくなると解析を停止する。
深さは0、あるいは、<VAR>state</VAR>で指定された値から始まる。
<P>

4番目の引数<VAR>stop-before</VAR>が<CODE>nil</CODE>以外であると、
S式を始める文字に出会うと解析を停止する。
<VAR>stop-comment</VAR>が<CODE>nil</CODE>以外であると、
コメントの始まりに出会うと解析を停止する。
<VAR>stop-comment</VAR>がシンボル<CODE>syntax-table</CODE>であると、
コメントや文字列の始まり、コメントや文字列の終りのいずれかに
出会ったあとで解析を停止する。
<P>

<A NAME="IDX2688"></A>
5番目の引数<VAR>state</VAR>は9要素のリストであり、
以下に述べるようにこの関数の値と同じ形である。
（9番目の最後の要素は省いてもよい。）
<CODE>parse-partial-sexp</CODE>の呼び出しの戻り値を、
別の<CODE>parse-partial-sexp</CODE>の呼び出しの解析状態の初期値に使ってよい。
<P>

結果は、解析の最終状態を記述した9要素のリストである。
<P>

<OL>
<LI>
0から数えた括弧の深さ。
<P>

<LI>
<A NAME="IDX2689"></A>
ポイントを停止した箇所を含むもっとも内側の括弧式の開始位置。
なければ<CODE>nil</CODE>。
<P>

<LI>
<A NAME="IDX2690"></A>
閉じている最後の完全な部分式の開始位置。
なければ<CODE>nil</CODE>。
<P>

<LI>
<A NAME="IDX2691"></A>
文字列の内側であると<CODE>nil</CODE>以外である。
より正確には、これは文字列を終える文字である。
あるいは、汎用文字列区切り文字で終えるときには<CODE>t</CODE>である。
<P>

<LI>
<A NAME="IDX2692"></A>
（どちらかの形式の）コメントの内側であると<CODE>t</CODE>である。
<P>

<LI>
<A NAME="IDX2693"></A>
ポイントがクォート文字の直後であると<CODE>t</CODE>である。
<P>

<LI>
この解析中に出会った最小の括弧の深さ。
<P>

<LI>
どの形式のコメントが活性であるかを表す。
『a』形式であると<CODE>nil</CODE>、
『b』形式であると<CODE>t</CODE>、
汎用コメント区切り文字で終るコメントの場合には<CODE>syntax-table</CODE>である。
<P>

<LI>
文字列やコメントの開始位置。
コメントの内側であるときにはこれはコメントの開始位置であり、
文字列の内側であるときにはこれは文字列の開始位置である。
文字列やコメントの外側では、この要素は<CODE>nil</CODE>である。
</OL>
<P>

引数<VAR>state</VAR>では、要素0、3、4、5、7は重要である。
<P>

<A NAME="IDX2694"></A>
この関数は、入れ子にあった括弧を持つ言語向けに
字下げを計算するためにしばしば用いられる。
</DL>
<P>

<A NAME="IDX2695"></A>
<DL>
<DT><U>Function:</U> <B>scan-lists</B> <I>from count depth</I>
<DD>この関数は、位置<VAR>from</VAR>から前方へ向けて<VAR>count</VAR>個の
釣り合った括弧のグループを走査する。
走査を停止した位置を返す。
<VAR>count</VAR>が負であると、後方へ向けて走査する。
<P>

<VAR>depth</VAR>が0以外であると、括弧の深さをその値から数え始める。
停止箇所の候補位置は、括弧の深さが0になる箇所である。
<CODE>scan-lists</CODE>は、そのような箇所を<VAR>count</VAR>回数えてから停止する。
したがって、<VAR>depth</VAR>に正の値を指定すると、
括弧のレベルを<VAR>depth</VAR>レベルだけ抜けることを意味する。
<P>

<CODE>parse-sexp-ignore-comments</CODE>が<CODE>nil</CODE>以外であると、
コメントを無視して走査する。
<P>

走査がバッファ（あるいはその参照可能部分）の先頭や末尾に達し、
深さが0でないと、エラーを通知する。
深さは0であるが指定個数だけ数えてない場合には、<CODE>nil</CODE>を返す。
</DL>
<P>

<A NAME="IDX2696"></A>
<DL>
<DT><U>Function:</U> <B>scan-sexps</B> <I>from count</I>
<DD>この関数は、位置<VAR>from</VAR>から前方へ向けて<VAR>count</VAR>個のS式を走査する。
走査を終えた位置を返す。
<VAR>count</VAR>が負であると、後方へ向けて移動する。
<P>

<CODE>parse-sexp-ignore-comments</CODE>が<CODE>nil</CODE>以外であると、
コメントを無視して走査する。
<P>

走査が括弧によるグループの途中で
バッファ（あるいはその参照可能部分）の先頭や末尾に達すると、
エラーを通知する。
指定個数だけ数えるまえに括弧によるグループのあいだで
先頭や末尾に達した場合は<CODE>nil</CODE>を返す。
</DL>
<P>

<A NAME="IDX2697"></A>
<DL>
<DT><U>Variable:</U> <B>parse-sexp-ignore-comments</B>
<DD><A NAME="IDX2698"></A>
値が<CODE>nil</CODE>以外であると、
本節の関数や<CODE>forward-sexp</CODE>は、コメントを白文字として扱う。
<P>

Emacsの古い版では、コメントの終了が`<SAMP>*/</SAMP>'のような形であり、かつ、
コメントの終了と思える場合にのみ、この機能は動作した。
改行でコメントを終える言語では、改行すべてがコメントの終りではないために、
この変数を<CODE>nil</CODE>にする必要があった。
このような制限事項はすでにない。
</DL>
<P>

<CODE>forward-comment</CODE>を使うと、
1つのコメントや複数のコメントを飛び越えて前後に移動できます。
<P>

<A NAME="IDX2699"></A>
<DL>
<DT><U>Function:</U> <B>forward-comment</B> <I>count</I>
<DD>この関数は、ポイントを前方へ向けて（<VAR>count</VAR>が負ならば後方へ向けて）
<VAR>count</VAR>個のコメントを飛び越えて移動する。
コメントか白文字以外のものに出会うと停止し、当該箇所にポイントを置く。
<VAR>count</VAR>個だけ数えたあとにももちろん停止する。
</DL>
<P>

ポイントに続くすべてのコメントと白文字を飛び越えるには、
<CODE>(forward-comment (buffer-size))</CODE>を使います。
バッファ内のコメントの個数は<CODE>(buffer-size)</CODE>を越えるはずがないので、
引数に使うには<CODE>(buffer-size)</CODE>はよいものです。
<P>

<A NAME="Standard Syntax Tables"></A>
<HR SIZE="6">
<br><A NAME="SEC573"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC572"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC574"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Standard Syntax Tables"></A>
<H2> 34.7 標準的な構文テーブル </H2>
<!--docid::SEC573::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Standard%20Syntax%20Tables">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Standard%20Syntax%20Tables</a>"<br>
"texi/elisp21/標準的な構文テーブル"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C9%B8%BD%E0%C5%AA%A4%CA%B9%BD%CA%B8%A5%C6%A1%BC%A5%D6%A5%EB">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

Emacsのほとんどのメジャーモードにはそれ独自の構文テーブルがあります。
それらのいくつかをつぎに示します。
<P>

<A NAME="IDX2700"></A>
<DL>
<DT><U>Function:</U> <B>standard-syntax-table</B>
<DD>この関数は、基本（fundamental）モードで使用する構文テーブルである
標準の構文テーブルを返す。
</DL>
<P>

<A NAME="IDX2701"></A>
<DL>
<DT><U>Variable:</U> <B>text-mode-syntax-table</B>
<DD>この変数の値は、テキスト（text）モードで使用する構文テーブルである。
</DL>
<P>

<A NAME="IDX2702"></A>
<DL>
<DT><U>Variable:</U> <B>c-mode-syntax-table</B>
<DD>この変数の値は、Cモードのバッファ向けの構文テーブルである。
</DL>
<P>

<A NAME="IDX2703"></A>
<DL>
<DT><U>Variable:</U> <B>emacs-lisp-mode-syntax-table</B>
<DD>この変数の値は、編集コマンドがemacs-lispモードで使用する構文テーブルである。
（これはLispの関数<CODE>read</CODE>にはなんの効果もない。）
</DL>
<P>

<A NAME="Syntax Table Internals"></A>
<HR SIZE="6">
<br><A NAME="SEC574"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC573"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC575"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Syntax Table Internals"></A>
<H2> 34.8 構文テーブルの内部 </H2>
<!--docid::SEC574::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Table%20Internals">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Syntax%20Table%20Internals</a>"<br>
"texi/elisp21/構文テーブルの内部"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B9%BD%CA%B8%A5%C6%A1%BC%A5%D6%A5%EB%A4%CE%C6%E2%C9%F4">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX2704"></A>
<P>

Lispプログラムでは普通は構文テーブルの要素を直接には操作しません。
Lispレベルの構文テーブル関数は、
普通は構文記述子（see 節 <A HREF="elisp_35.html#SEC566">34.2 構文記述子</A>）を操作します。
ですが、内部形式を明文化しておきます。
<P>

構文テーブルの各要素は、<CODE>(<VAR>syntax-code</VAR> . <VAR>matching-char</VAR>)</CODE>の
形のコンスセルです。
CARの<VAR>syntax-code</VAR>は、構文クラスと構文フラグを符号化する整数です。
釣り合う文字を指定してあると、
CDRの<VAR>matching-char</VAR>は<CODE>nil</CODE>以外です。
<P>

つぎの表は、各構文クラスに対応する<VAR>syntax-code</VAR>の値です。
<P>

<TABLE>
<TR><TD></TD>
</TD><TD>
<I>整数</I> <I>クラス</I>
</TD><TD>
<I>整数</I> <I>クラス</I>
</TD><TD>
<I>整数</I> <I>クラス</I>
</TR>
<TR><TD></TD>
</TD><TD>
0    whitespace
</TD><TD>
5    close parenthesis
</TD><TD>
10    character quote
</TR>
<TR><TD></TD>
</TD><TD>
　  白文字
</TD><TD>
　  閉じ括弧
</TD><TD>
　  文字クォート
</TR>
<TR><TD></TD>
</TD><TD>
1    punctuation
</TD><TD>
6    expression prefix
</TD><TD>
11    comment-start
</TR>
<TR><TD></TD>
</TD><TD>
　  句読点
</TD><TD>
　  式前置子
</TD><TD>
　  コメント開始
</TR>
<TR><TD></TD>
</TD><TD>
2    word
</TD><TD>
7    string quote
</TD><TD>
12    comment-end
</TR>
<TR><TD></TD>
</TD><TD>
　  単語
</TD><TD>
　  文字列クォート
</TD><TD>
　  コメント終了
</TR>
<TR><TD></TD>
</TD><TD>
3    symbol
</TD><TD>
8    paired delimiter
</TD><TD>
13    inherit
</TR>
<TR><TD></TD>
</TD><TD>
　  シンボル
</TD><TD>
　  対になった区切り
</TD><TD>
　  継承
</TR>
<TR><TD></TD>
</TD><TD>
4    open parenthesis
</TD><TD>
9    escape
</TD><TD>
14    comment-fence
</TR>
<TR><TD></TD>
</TD><TD>
　  開き括弧
</TD><TD>
　  エスケープ
</TD><TD>
　  コメント区切り
</TR>
<TR><TD></TD>
</TD><TD>
15   string-fence
</TD><TD>
</TD><TD>
</TR>
<TR><TD></TD>
</TD><TD>
　  文字列区切り
</TD><TD>
</TD><TD>
</TR></TABLE>
<P>

たとえば、`<SAMP>(</SAMP>'の普通の構文値は、<CODE>(4 . 41)</CODE>です。
（41は`<SAMP>)</SAMP>'の文字コード。）
<P>

フラグは、最下位ビットから16番目のビットから始まる上位ビットに符号化します。
つぎの表は、各構文フラグとそれに対応する2の巾です。
<P>

<TABLE>
<TR><TD></TD>
</TD><TD>
<I>フラグ</I> <I>2の巾</I>
</TD><TD>
<I>フラグ</I> <I>2の巾</I>
</TD><TD>
<I>フラグ</I> <I>2の巾</I>
</TR>
<TR><TD></TD>
</TD><TD>
`<SAMP>1</SAMP>'    <CODE>(lsh 1 16)</CODE>
</TD><TD>
`<SAMP>3</SAMP>'    <CODE>(lsh 1 18)</CODE>
</TD><TD>
`<SAMP>p</SAMP>'    <CODE>(lsh 1 20)</CODE>
</TR>
<TR><TD></TD>
</TD><TD>
`<SAMP>2</SAMP>'    <CODE>(lsh 1 17)</CODE>
</TD><TD>
`<SAMP>4</SAMP>'    <CODE>(lsh 1 19)</CODE>
</TD><TD>
`<SAMP>b</SAMP>'    <CODE>(lsh 1 21)</CODE>
</TR></TABLE>
<P>

<A NAME="Categories"></A>
<HR SIZE="6">
<br><A NAME="SEC575"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_35.html#SEC574"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_36.html#SEC576"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Categories"></A>
<H2> 34.9 カテゴリ </H2>
<!--docid::SEC575::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Categories">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Categories</a>"<br>
"texi/elisp21/カテゴリ"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%AB%A5%C6%A5%B4%A5%EA">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX2705"></A>
<A NAME="IDX2706"></A>
<P>

<EM>カテゴリ</EM>（category）は、文字を構文的に分類する別の方法です。
必要に応じて複数のカテゴリを定義できて、
そうすると各文字に1つか複数のカテゴリを独立に設定できます。
構文クラスと異なり、カテゴリは互いに排他的ではありません。
1つの文字が複数のカテゴリに属することは普通にあります。
<P>

各バッファには<EM>カテゴリテーブル</EM>（category table）があり、
どのカテゴリが定義済みでどの文字がどのカテゴリに属するかを記録しています。
各カテゴリテーブルはそれ独自のカテゴリ群を定義しますが、
それらは標準のカテゴリテーブルをコピーして普通は初期化されます。
そのため、すべてのモードで標準のカテゴリを使えます。
<P>

各カテゴリには名前があり、それは`<SAMP> </SAMP>'から`<SAMP>~</SAMP>'までの
範囲のASCII印字文字です。
<CODE>define-category</CODE>でカテゴリを定義するときにその名前を指定します。
<P>

カテゴリテーブルは実際には文字テーブル（see 節 <A HREF="elisp_7.html#SEC99">6.6 文字テーブル</A>）です。
カテゴリテーブルの添字<VAR>c</VAR>の要素は、
<EM>カテゴリ集合</EM>（category set）です。
これはブールベクトルであり、文字<VAR>c</VAR>が属するカテゴリ群を表します。
このカテゴリ集合において、添字<VAR>cat</VAR>の要素が<CODE>t</CODE>であると、
<VAR>cat</VAR>は集合の要素であることを意味し、
当該文字<VAR>c</VAR>はカテゴリ<VAR>cat</VAR>に属することを意味します。
<P>

<A NAME="IDX2707"></A>
<DL>
<DT><U>Function:</U> <B>define-category</B> <I>char docstring &#38;optional table</I>
<DD>この関数は、名前を<VAR>char</VAR>、説明文字列を<VAR>docstring</VAR>として
新たなカテゴリを定義する。
<P>

新たなカテゴリは、カテゴリテーブル<VAR>table</VAR>に対して定義される。
<VAR>table</VAR>のデフォルトは、カレントバッファのカテゴリテーブルである。
</DL>
<P>

<A NAME="IDX2708"></A>
<DL>
<DT><U>Function:</U> <B>category-docstring</B> <I>category &#38;optional table</I>
<DD>この関数は、カテゴリテーブル<VAR>table</VAR>のカテゴリ<VAR>category</VAR>の
説明文字列を返す。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(category-docstring ?a)
     => "ASCII"
(category-docstring ?l)
     => "Latin"
</pre></td></tr></table></DL>
<P>

<A NAME="IDX2709"></A>
<DL>
<DT><U>Function:</U> <B>get-unused-category</B> <I>table</I>
<DD>この関数は、カテゴリテーブル<VAR>table</VAR>で現在定義されていない
新たなカテゴリ名（文字）を返す。
<VAR>table</VAR>において可能なすべてのカテゴリが使用済みであると<CODE>nil</CODE>を返す。
</DL>
<P>

<A NAME="IDX2710"></A>
<DL>
<DT><U>Function:</U> <B>category-table</B>
<DD>この関数は、カレントバッファのカテゴリテーブルを返す。
</DL>
<P>

<A NAME="IDX2711"></A>
<DL>
<DT><U>Function:</U> <B>category-table-p</B> <I>object</I>
<DD>この関数は、<VAR>object</VAR>がカテゴリテーブルであると<CODE>t</CODE>を返し、
さもなければ<CODE>nil</CODE>を返す。
</DL>
<P>

<A NAME="IDX2712"></A>
<DL>
<DT><U>Function:</U> <B>standard-category-table</B>
<DD>この関数は、標準のカテゴリテーブルを返す。
</DL>
<P>

<A NAME="IDX2713"></A>
<DL>
<DT><U>Function:</U> <B>copy-category-table</B> <I>&#38;optional table</I>
<DD>この関数は、カテゴリテーブル<VAR>table</VAR>のコピーを作成しそれを返す。
<VAR>table</VAR>を指定しない（あるいは<CODE>nil</CODE>）と、
現在のカテゴリテーブルのコピーを返す。
<VAR>table</VAR>がカテゴリテーブルでないとエラーを通知する。
</DL>
<P>

<A NAME="IDX2714"></A>
<DL>
<DT><U>Function:</U> <B>set-category-table</B> <I>table</I>
<DD>この関数は、カレントバッファのカテゴリテーブルを<VAR>table</VAR>とする。
<VAR>table</VAR>を返す。
</DL>
<P>

<A NAME="IDX2715"></A>
<DL>
<DT><U>Function:</U> <B>make-category-set</B> <I>categories</I>
<DD>この関数は、新たなカテゴリ集合、つまり、
文字列<VAR>categories</VAR>に指定したカテゴリで
内容を初期化したブールベクトルを返す。
<VAR>categories</VAR>の要素はカテゴリ名であること。
新たなカテゴリ集合では、<VAR>categories</VAR>の各カテゴリに対しては<CODE>t</CODE>を
それ以外のカテゴリに対しては<CODE>nil</CODE>を設定する。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(make-category-set "al")
     => #&#38;128"\0\0\0\0\0\0\0\0\0\0\0\0\2\20\0\0"
</pre></td></tr></table></DL>
<P>

<A NAME="IDX2716"></A>
<DL>
<DT><U>Function:</U> <B>char-category-set</B> <I>char</I>
<DD>この関数は、文字<VAR>char</VAR>に対するカテゴリ集合を返す。
これは、文字<VAR>char</VAR>が属するカテゴリ群を記録したブールベクトルである。
関数<CODE>char-category-set</CODE>は、カテゴリテーブルに
存在する同じブールベクトルを返すため、新たな領域を割り付けない。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(char-category-set ?a)
     => #&#38;128"\0\0\0\0\0\0\0\0\0\0\0\0\2\20\0\0"
</pre></td></tr></table></DL>
<P>

<A NAME="IDX2717"></A>
<DL>
<DT><U>Function:</U> <B>category-set-mnemonics</B> <I>category-set</I>
<DD>この関数は、カテゴリ集合<VAR>category-set</VAR>を
この集合に属するすべてのカテゴリの名前からなる文字列に変換する。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(category-set-mnemonics (char-category-set ?a))
     => "al"
</pre></td></tr></table></DL>
<P>

<A NAME="IDX2718"></A>
<DL>
<DT><U>Function:</U> <B>modify-category-entry</B> <I>character category &#38;optional table reset</I>
<DD>この関数は、カテゴリテーブル<VAR>table</VAR>（デフォルトはカレントバッファの
カテゴリテーブル）内の文字<VAR>character</VAR>のカテゴリ集合を変更する。
<P>

普通、カテゴリ集合に<VAR>category</VAR>を追加して変更する。
しかし、<VAR>reset</VAR>が<CODE>nil</CODE>以外であると<VAR>category</VAR>を削除する。
</DL>
<A NAME="Abbrevs"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<a name="bottom"> </a>
<script type="text/javascript" src="style2.js"></script>
<div class="footer">
    <br>
    このページはMeadow (Emacs) の紹介ページです <br>
このWebページの各文書は自由にリンク・複製・再配布・改変していただいて構いません．
<br>ただし，複製・再配布・改変の場合は Meadow Memo のURLを記載しておいて下さい．<br>
<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=about%20link">Medow memoへのリンクについて</a>．<br>

間違い，要望等があれば<a href="mailto:akihisa@mail.ne.jp">akihisa@mail.ne.jp</a> か下記でどうぞ<br>

<br>

<FORM METHOD="post" ACTION="http://www.bookshelf.jp/cgi-bin/wwwmail.cgi" >
お名前：<INPUT TYPE="text" NAME="name" SIZE="30" MAXLENGTH="40" VALUE="ななしさん"><br>
メールアドレス：<INPUT TYPE="text" NAME="EMAIL" SIZE="25" MAXLENGTH="60" VALUE="secret@mail.adr"><br>
<input type="hidden" name="HPAGE" value="">
つっこみ：<br><TEXTAREA NAME="MESSAGE" ROWS="5" COLS="50">
</TEXTAREA><br><br>
<INPUT TYPE="submit" VALUE="送信">
<INPUT TYPE="reset" VALUE="クリア">
</FORM>

<br><A HREF="http://www.bookshelf.jp/cgi-bin/xct.cgi">ページ別カウンタ</a>
<br> Since 2002/12/13 <br>
</div>

</BODY>

</HTML>
