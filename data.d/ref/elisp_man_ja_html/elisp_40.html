<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="ja">
<!-- Created on October, 1  2005 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=euc-jp">
<META NAME="keywords" CONTENT="meadow,mule,emacs,lisp,elisp,gnus,setting,設定,unix,cygwin">
<META http-equiv="Content-Script-Type" content="text/javascript">
<META NAME="description" CONTENT="Meadowの設定を紹介するページです">
<TITLE>GNU Emacs Lispリファレンスマニュアル:  オペレーティングシステムとのインターフェイス</TITLE>

<META NAME="description" CONTENT="GNU Emacs Lispリファレンスマニュアル:  オペレーティングシステムとのインターフェイス">
<META NAME="keywords" CONTENT="GNU Emacs Lispリファレンスマニュアル:  オペレーティングシステムとのインターフェイス">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

<LINK REL="contents" HREF="elisp_toc.html#SEC_Contents">
<LINK REL="index" HREF="elisp_48.html#SEC681">
<LINK REL="next" HREF="elisp_42.html#SEC661">
<LINK REL="prev" HREF="elisp_39.html#SEC625">

<META http-equiv="Content-Style-Type" content="text/css">
<!-- 鶯と龜 ←日本語EUC誤判別対策用らしい; -->
<link rel="StyleSheet" href="../../../../soft/css/midnight.css" type="text/css" id="css1">
<script type="text/javascript" src="style1.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../soft/css/meadowmemo.css">

</HEAD>
<BODY LANG="ja" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<!--Infoseek Analyzer start-->
<script LANGUAGE="javascript">PgNo=6;</script>
<script src="http://js1.infoseek.co.jp/bin/57/00170.js"></script>
<noscript><a href="http://ax1.www.infoseek.co.jp/bin/go?0017057f" target="_blank">
<img src="http://ax1.www.infoseek.co.jp/bin/logo?0017057f" border=0></a></noscript>
<!--Infoseek Analyzer end-->
<a name="top"> </a>

<br><A NAME="SEC636"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_39.html#SEC635"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC637"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_39.html#SEC625"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_42.html#SEC661"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="System Interface"></A>
<H1> 39. オペレーティングシステムとのインターフェイス </H1>
<!--docid::SEC636::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=System%20Interface">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=System%20Interface</a>"<br>
"texi/elisp21/オペレーティングシステムとのインターフェイス"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%AA%A5%DA%A5%EC%A1%BC%A5%C6%A5%A3%A5%F3%A5%B0%A5%B7%A5%B9%A5%C6%A5%E0%A4%C8%A4%CE%A5%A4%A5%F3%A5%BF%A1%BC%A5%D5%A5%A7%A5%A4%A5%B9">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

本章は、Emacsの起動と終了、
オペレーティングシステムの環境に収められた値の参照方法、
端末入出力とフロー制御についてです。
<P>

関連情報についてはSee 節 <A HREF="elisp_43.html#SEC668">C.1 Emacsの構築方法</A>。
また、端末やスクリーンに関係する
オペレーティングシステムの状態情報については、
<A HREF="elisp_38.html#SEC599">37. Emacsの画面表示</A>も参照してください。
<P>

<div class="menuindex"><SCRIPT language=JavaScript src="index39.js"></SCRIPT></div><noscript><BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC637">39.1 Emacsの始動</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Customizing Emacs start-up processing.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC642">39.2 Emacsから抜ける</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How exiting works (permanent or temporary).</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC645">39.3 オペレーティングシステム環境</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Distinguish the name and kind of system.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC646">39.4 ユーザーの識別</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Finding the name and user id of the user.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC647">39.5 時刻</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Getting the current time.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC648">39.6 時刻の変換</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Converting a time from numeric form to a string, or
                          to calendrical data (or vice versa).</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC649">39.7 遅延実行のためのタイマ</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Setting a timer to call a function at a certain time.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC650">39.8 端末入力</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Recording terminal input for debugging.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC654">39.9 端末出力</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Recording terminal output for debugging.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC655">39.10 システム固有のX11のキーシンボル</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Defining system-specific key symbols for X windows.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC656">39.11 フロー制御</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How to turn output flow control on or off.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC657">39.12 バッチモード</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Running Emacs without terminal interaction.</TD></TR>
</TABLE></BLOCKQUOTE></noscript>
<P>

<A NAME="Starting Up"></A>
<HR SIZE="6">
<br><A NAME="SEC637"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC636"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC638"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Starting Up"></A>
<H2> 39.1 Emacsの始動 </H2>
<!--docid::SEC637::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Starting%20Up">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Starting%20Up</a>"<br>
"texi/elisp21/Emacsの始動"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2FEmacs%A4%CE%BB%CF%C6%B0">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

本節では、Emacsが起動時になにを行うか、および、
それらをカスタマイズする方法について述べます。
<P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC638">39.1.1 概要：始動時の動作手順</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Sequence of actions Emacs performs at start-up.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC639">39.1.2 初期化ファイル：`<TT>.emacs</TT>'</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Details on reading the init file (`<TT>.emacs</TT>').</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC640">39.1.3 端末固有の初期化</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How the terminal-specific Lisp file is read.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC641">39.1.4 コマンド行引数</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How command line arguments are processed,
                              and how you can customize them.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Start-up Summary"></A>
<HR SIZE="6">
<br><A NAME="SEC638"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC637"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC639"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Start-up Summary"></A>
<H3> 39.1.1 概要：始動時の動作手順 </H3>
<!--docid::SEC638::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Start-up%20Summary">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Start-up%20Summary</a>"<br>
"texi/elisp21/概要：始動時の動作手順"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%B3%B5%CD%D7%A1%A7%BB%CF%C6%B0%BB%FE%A4%CE%C6%B0%BA%EE%BC%EA%BD%E7">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3101"></A>
<A NAME="IDX3102"></A>
<A NAME="IDX3103"></A>
<A NAME="IDX3104"></A>
<P>

Emacsが始動したときに行う（`<TT>startup.el</TT>'での）
処理の順序はつぎのとおりです。
<P>

<OL>
<LI>
<CODE>load-path</CODE>にある各ディレクトリファイルにおいて
`<TT>subdirs.el</TT>'という名前のファイルを実行することで
<CODE>load-path</CODE>にサブディレクトリを追加する。
<P>

<LI>
<CODE>LANG</CODE>などの環境変数で要求されていれば、
言語環境と端末のコーディングシステムを設定する。
<P>

<LI>
ウィンドウシステムを使用している場合には、
そのウィンドウシステム向けの初期化ライブラリをロードする。
そのライブラリ名は`<TT>term/<VAR>windowsystem</VAR>-win.el</TT>'である。
<P>

<LI>
初期化オプションを処理する。
（初期化オプションの一部は、これより初期の段階で扱われる。）
<P>

<LI>
必要ならば、ウィンドウフレームとフェイスを初期化する。
<P>

<LI>
ノーマルフック<CODE>before-init-hook</CODE>を実行する。
<P>

<LI>
オプション`<SAMP>-no-site-file</SAMP>'が指定されていなければ、
ライブラリ`<TT>site-start</TT>'をロードする。
このライブラリの名前は普通は`<TT>site-start.el</TT>'である。
<A NAME="IDX3105"></A>
<P>

<LI>
コマンド行で`<SAMP>-q</SAMP>'や`<SAMP>-batch</SAMP>'が指定されていなければ、
ファイル`<TT>~/.emacs</TT>'をロードする。
オプション`<SAMP>-u</SAMP>'で、`<TT>~</TT>'のかわりに用いるホームディレクトリを持つ
他のユーザー名を指定できる。
<P>

<LI>
<CODE>inhibit-default-init</CODE>が<CODE>nil</CODE>以外でなければ、
ライブラリ`<TT>default</TT>'をロードする。
（コマンド行で`<SAMP>-q</SAMP>'を指定したり、
`<SAMP>-batch</SAMP>'モードでは、これを行わない。）
ライブラリのファイル名は普通は`<TT>default.el</TT>'である。
<A NAME="IDX3106"></A>
<P>

<LI>
ノーマルフック<CODE>after-init-hook</CODE>を実行する。
<P>

<LI>
バッファ`<SAMP>*scratch*</SAMP>'がカレントバッファであり
基本（fundamental）モードであるならば、
<CODE>initial-major-mode</CODE>に従ってメジャーモードを設定する。
<P>

<LI>
バッチモードやウィンドウシステムを用いていなければ、
あれば端末固有のLispファイルが存在するならロードする。
<P>

<LI>
<CODE>inhibit-startup-echo-area-message</CODE>で抑制していなければ、
初期メッセージをエコー領域に表示する。
<P>

<LI>
コマンド行の引数を処理する。
<P>

<LI>
<CODE>term-setup-hook</CODE>を実行する。
<P>

<LI>
初期化ファイルの指定に従って
選択されているフレームのパラメータを修正する
<CODE>frame-notice-user-settings</CODE>を呼び出す。
<P>

<LI>
<CODE>window-setup-hook</CODE>を実行する。
see 節 <A HREF="elisp_38.html#SEC624">37.16 ウィンドウシステム</A>。
<P>

<LI>
未処理のコマンド行引数（上の数手順）がなく、
<CODE>inhibit-startup-message</CODE>の値が<CODE>nil</CODE>であり、
バッファが空であれば、
コピーレフト／無保証／基本的な利用情報を表示する。
</OL>
<P>

<A NAME="IDX3107"></A>
<DL>
<DT><U>User Option:</U> <B>inhibit-startup-message</B>
<DD>この変数は、（無保証などの）初期の始動メッセージを禁止する。
これが<CODE>nil</CODE>以外であるとメッセージを表示しない。
<P>

始動メッセージの内容に十分慣れたら、
読者個人の初期化ファイルで設定できるようにこの変数がある。
新規ユーザーが受け取るはずである情報を隠してしまうため、
新規ユーザーの初期化ファイルや複数のユーザーに影響するような方法で
この変数に設定しないこと。
</DL>
<P>

<A NAME="IDX3108"></A>
<DL>
<DT><U>User Option:</U> <B>inhibit-startup-echo-area-message</B>
<DD>この変数は、エコー領域に表示する始動メッセージを制御する。
個人のファイル`<TT>.emacs</TT>'につぎのフォームを追加することで
エコー領域の始動メッセージを抑制できる。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(setq inhibit-startup-echo-area-message
      "<VAR>your-login-name</VAR>")
</pre></td></tr></table><P>

Emacsは、読者のファイル`<TT>.emacs</TT>'で上に示した式を明示的に検査する。
読者のログイン名はLisp文字列定数として式に現れる必要がある。
<CODE>inhibit-startup-echo-area-message</CODE>に同じ値を
設定する別の方法では、始動メッセージを禁止できない。
<P>

このように、望むならば自身のためにメッセージを簡単に禁止できるが、
読者の`<TT>.emacs</TT>'をむやみにコピーしても、
他人に対してはメッセージを禁止できない。
</DL>
<P>

<A NAME="Init File"></A>
<HR SIZE="6">
<br><A NAME="SEC639"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC638"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC640"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Init File"></A>
<H3> 39.1.2 初期化ファイル：`<TT>.emacs</TT>' </H3>
<!--docid::SEC639::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Init%20File">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Init%20File</a>"<br>
"texi/elisp21/初期化ファイル：`<TT>.emacs</TT>'"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%BD%E9%B4%FC%B2%BD%A5%D5%A5%A1%A5%A4%A5%EB%A1%A7%60%3CTT%3E%2Eemacs%3C%2FTT%3E%27">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3109"></A>
<A NAME="IDX3110"></A>
<P>

読者がEmacsを始動すると、Emacsは読者のホームディレクトリから
ファイル`<TT>.emacs</TT>'を普通はロードしようとします。
このファイルが存在すれば、これにはLispコードを入れておく必要があります。
コマンド行オプション`<SAMP>-q</SAMP>'と`<SAMP>-u</SAMP>'は、
初期化ファイルの使い方に影響します。
`<SAMP>-q</SAMP>'は初期化ファイルをロードしないように指示し、
`<SAMP>-u</SAMP>'は読者の初期化ファイルのかわりに指定したユーザーの初期化ファイルを
ロードするように指示します。
See <a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=emacs21&node=Entering%20Emacs">GNU Emacs マニュアル</a>。
<P>

<A NAME="IDX3111"></A>
<EM>デフォルトの初期化ファイル</EM>をサイトごとに持てます。
これは`<TT>default.el</TT>'という名前のライブラリです。
Emacsは、ライブラリを探索する標準パスから
ファイル`<TT>default.el</TT>'を探します
（see 節 <A HREF="elisp_15.html#SEC192">14.1 プログラムからのロード方法</A>）。
Emacsの配布には、このファイルは付属していません。
ローカルなカスタマイズのためにサイトで用意します。
バッチモードや`<SAMP>-q</SAMP>'を指定してある場合を除いて、
デフォルトの初期化ファイルが存在すると、
読者がEmacsを始動するたびにそれをロードします。
しかし、存在するなら、個人の初期化ファイルをさきにロードします。
そこで<CODE>inhibit-default-init</CODE>に<CODE>nil</CODE>以外の値を設定してあると、
Emacsはそのあとファイル`<TT>default.el</TT>'をロードしません。
<P>

サイトごとのカスタマイズ向けの別のファイルは`<TT>site-start.el</TT>'です。
Emacsはユーザーの初期化ファイルをロードする<EM>まえ</EM>に
このファイルをロードします。
このファイルのロードを禁止するには
オプション`<SAMP>-no-site-file</SAMP>'を使います。
<P>

<A NAME="IDX3112"></A>
<DL>
<DT><U>Variable:</U> <B>site-run-file</B>
<DD>この変数は、ユーザーの初期化ファイルよりさきに
ロードするべきサイトごとのカスタマイズファイルを指定する。
普通の値は<CODE>"site-start"</CODE>である。
実際に効果があるようにこれを変更する唯一の方法は、
Emacsをダンプするまえに行うことである。
</DL>
<P>

読者のファイル`<TT>.emacs</TT>'に大量のコードがある場合には、
`<TT><VAR>something</VAR>.el</TT>'という名前の別のファイルへコピーして、
それをバイトコンパイルし（see 節 <A HREF="elisp_16.html#SEC200">15. バイトコンパイル</A>）、
読者のファイル`<TT>.emacs</TT>'では、<CODE>load</CODE>（see 節 <A HREF="elisp_15.html#SEC191">14. ロード</A>）で
そのファイルをロードするようにします。
<P>

読者のファイル`<TT>.emacs</TT>'でよく使われるであろう
さまざまなカスタマイズを行う方法の例については、
See <a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=emacs21&node=Init%20Examples">GNU Emacs マニュアル</a>。
<P>

<A NAME="IDX3113"></A>
<DL>
<DT><U>User Option:</U> <B>inhibit-default-init</B>
<DD>この変数は、読者のEmacsセッションにおいては、
デフォルトの初期化ライブラリファイルをロードしないようにする。
その値が<CODE>nil</CODE>以外であるとデフォルトライブラリをロードしない。
デフォルト値は<CODE>nil</CODE>である。
</DL>
<P>

<A NAME="IDX3114"></A>
<DL>
<DT><U>Variable:</U> <B>before-init-hook</B>
<DD>すべての初期化ファイル
（ユーザーの初期化ファイル、
`<TT>default.el</TT>'と／あるいは`<TT>site-start.el</TT>'）を
ロードする直前に一度だけ実行するノーマルフック。
（実際の効果があるようにこれを変更する唯一の方法は、
Emacsをダンプするまえに行うことである。）
</DL>
<P>

<A NAME="IDX3115"></A>
<DL>
<DT><U>Variable:</U> <B>after-init-hook</B>
<DD>すべての初期化ファイル
（ユーザーの初期化ファイル、
`<TT>default.el</TT>'と／あるいは`<TT>site-start.el</TT>'）をロード直後、
端末固有の初期化のまえに一度だけ実行するノーマルフック。
</DL>
<P>

<A NAME="Terminal-Specific"></A>
<HR SIZE="6">
<br><A NAME="SEC640"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC639"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC641"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Terminal-Specific"></A>
<H3> 39.1.3 端末固有の初期化 </H3>
<!--docid::SEC640::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Terminal-Specific">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Terminal-Specific</a>"<br>
"texi/elisp21/端末固有の初期化"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C3%BC%CB%F6%B8%C7%CD%AD%A4%CE%BD%E9%B4%FC%B2%BD">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3116"></A>
<P>

端末の各種類ごとに、Emacsがその種類の端末で動作するときに
Emacsがロードする専用Lispライブラリを持てます。
ライブラリ名は、変数<CODE>term-file-prefix</CODE>の値と
端末種類を連結して作ります。
通常、<CODE>term-file-prefix</CODE>の値は<CODE>"term/"</CODE>であり、
これを変更することは勧めません。
Emacsは通常どおり、<CODE>load-path</CODE>のディレクトリ群において
`<SAMP>.elc</SAMP>'と`<SAMP>.el</SAMP>'の接尾辞でファイルを探します。
<P>

端末固有ライブラリの普通の機能は、
Emacsが識別可能なキー列を送るように特別なキーを設定することです。
端末のすべてのファンクションキーがtermcapに入っていない場合には、
<CODE>function-key-map</CODE>を設定したり追加する必要もあります。
<P>

<A NAME="IDX3117"></A>
端末種類の名前にハイフンが含まれる場合、
ライブラリ名を選ぶうえでは、最初のハイフンよりまえの名前の部分が有効です。
したがって、`<SAMP>aaa-48</SAMP>'と`<SAMP>aaa-30-rv</SAMP>'のどちらも
ライブラリ`<TT>term/aaa</TT>'を使います。
必要ならば、ライブラリでは<CODE>(getenv "TERM")</CODE>を評価することで
端末種類の完全な名前を得ることができます。
<P>

読者のファイル`<TT>.emacs</TT>'で
変数<CODE>term-file-prefix</CODE>に<CODE>nil</CODE>を設定すると、
端末固有ライブラリをロードしないようにできます。
この機能は、読者独自のカスタマイズを試すときに有用です。
<P>

変数<CODE>term-setup-hook</CODE>に設定すれば、
端末固有ライブラリの特定の動作に優先できます。
これは、読者のファイル`<TT>.emacs</TT>'と端末固有ライブラリの両者を
ロードしたあとの初期化後にEmacsが実行するノーマルフックです。
端末専用ライブラリがない端末向けの初期化を定義するために
この変数を使えます。
See 節 <A HREF="elisp_23.html#SEC362">22.6 フック</A>。
<P>

<A NAME="IDX3118"></A>
<DL>
<DT><U>Variable:</U> <B>term-file-prefix</B>
<DD><A NAME="IDX3119"></A>
<A NAME="IDX3120"></A>
変数<CODE>term-file-prefix</CODE>が<CODE>nil</CODE>以外であると、
Emacsは、つぎのように端末固有の初期化ファイルをロードする。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(load (concat term-file-prefix (getenv "TERM")))
</pre></td></tr></table><P>

端末固有の初期化ファイルをロードしたくない場合には、
読者のファイル`<TT>.emacs</TT>'で
変数<CODE>term-file-prefix</CODE>に<CODE>nil</CODE>を設定する。
それには、読者のファイル`<TT>.emacs</TT>'に
<CODE>(setq term-file-prefix nil)</CODE>を入れる。
</DL>
<P>

<A NAME="IDX3121"></A>
<DL>
<DT><U>Variable:</U> <B>term-setup-hook</B>
<DD>この変数は、読者のファイル`<TT>.emacs</TT>'、
（あれば）デフォルトの初期化ファイル、
端末固有のLispファイルをロードしたあとにEmacsが実行する
ノーマルフックである。
<P>

端末固有ファイルの定義に優先するために<CODE>term-setup-hook</CODE>を使える。
</DL>
<P>

関連する機能については、
<A HREF="elisp_38.html#SEC624">37.16 ウィンドウシステム</A>の<CODE>window-setup-hook</CODE>を参照してください。
<P>

<A NAME="Command Line Arguments"></A>
<HR SIZE="6">
<br><A NAME="SEC641"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC640"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC642"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Command Line Arguments"></A>
<H3> 39.1.4 コマンド行引数 </H3>
<!--docid::SEC641::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Command%20Line%20Arguments">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Command%20Line%20Arguments</a>"<br>
"texi/elisp21/コマンド行引数"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%B3%A5%DE%A5%F3%A5%C9%B9%D4%B0%FA%BF%F4">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3122"></A>
<P>

Emacsを始動するときにコマンド行引数を使ってさまざまな動作を要求できます。
一日に一度より多くEmacsを始動する必要はないでしょうし、
しばしばEmacsセッションをそれより長く動かし続けるでしょうから、
コマンド行引数はほとんど使いません。
実際、コマンド行引数を使う癖は避けたほうがよいです。
そのような癖をつけると、Emacsを必要以上に終了したり再始動するからです。
これらのオプションは2つの理由で存在します。
（別のプログラムから起動される）他のエディタと互換性があるようにするのと、
シェルスクリプトから特定のLispプログラムを実行できるようにするためです。
<P>

本節では、Emacsがコマンド行引数を処理する方法と、
それらをカスタマイズする方法について述べます。
<P>

<A NAME="IDX3123"></A>
<DL>
<DT><U>Function:</U> <B>command-line</B>
<DD>この関数は、Emacsを呼び出すときに指定されたコマンド行引数を解析して処理し、
ユーザーのファイル`<TT>.emacs</TT>'をロードし始動メッセージを表示する。
</DL>
<P>

<A NAME="IDX3124"></A>
<DL>
<DT><U>Variable:</U> <B>command-line-processed</B>
<DD>この変数の値は、コマンド行引数を一度処理し終えると<CODE>t</CODE>である。
<P>

<CODE>dump-emacs</CODE>を呼んでEmacsを再ダンプするときには、
この変数に<CODE>nil</CODE>を設定すれば、
新たにダンプしたEmacsでコマンド行引数を処理するようにできる。
</DL>
<P>

<A NAME="IDX3125"></A>
<DL>
<DT><U>Variable:</U> <B>command-switch-alist</B>
<DD><A NAME="IDX3126"></A>
<A NAME="IDX3127"></A>
この変数の値は、ユーザー定義のコマンド行オプションの連想リストである。
この変数は、読者が要素を追加できるように存在する。
<P>

<EM>コマンド行オプション</EM>（command line option）は、
つぎの形のコマンド行の引数である。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>-<VAR>option</VAR>
</pre></td></tr></table><P>

<CODE>command-switch-alist</CODE>の要素はつぎの形である。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(<VAR>option</VAR> . <VAR>handler-function</VAR>)
</pre></td></tr></table><P>

<VAR>handler-function</VAR>は、オプション<VAR>option</VAR>を処理するために呼ばれ、
オプション名を唯一の引数として受け取る。
<P>

コマンド行のオプションには引数が続く場合もある。
そのような場合、<VAR>handler-function</VAR>は
変数<CODE>command-line-args-left</CODE>からすべての残りのコマンド行引数を
調べることができる。
（コマンド行引数全体のリストは<CODE>command-line-args</CODE>にある。）
<P>

コマンド行引数は、ファイル`<TT>startup.el</TT>'の
関数<CODE>command-line-1</CODE>が解析する。
<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=emacs21&node=Command%20Arguments">GNU Emacs マニュアル</a>も参照。
</DL>
<P>

<A NAME="IDX3128"></A>
<DL>
<DT><U>Variable:</U> <B>command-line-args</B>
<DD>この変数の値は、Emacsに渡されたコマンド行引数のリストである。
</DL>
<P>

<A NAME="IDX3129"></A>
<DL>
<DT><U>Variable:</U> <B>command-line-functions</B>
<DD>この変数の値は、認識できないコマンド行引数を処理する関数のリストである。
つぎに処理する引数に特別な意味がないと、
このリストの関数を<CODE>nil</CODE>以外の値を返すまで現れる順に呼び出す。
<P>

これらの関数は引数なしで呼び出される。
これらの関数では、呼び出し時に束縛される変数<CODE>argi</CODE>を介して
対象となるコマンド行引数を参照できる。
（いま対象となっている引数を除く）残りの引数は
変数<CODE>command-line-args-left</CODE>にある。
<P>

関数が<CODE>argi</CODE>を認識して処理したときには、
その引数を処理したことを表すために<CODE>nil</CODE>以外の値を返すこと。
後続の引数の一部も処理した場合には、
<CODE>command-line-args-left</CODE>から
それらを削除することで処理したことを示せる。
<P>

これらの関数すべてが<CODE>nil</CODE>を返すと、
訪問するファイル名として引数を用いる。
</DL>
<P>

<A NAME="Getting Out"></A>
<HR SIZE="6">
<br><A NAME="SEC642"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC641"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC643"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Getting Out"></A>
<H2> 39.2 Emacsから抜ける </H2>
<!--docid::SEC642::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Getting%20Out">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Getting%20Out</a>"<br>
"texi/elisp21/Emacsから抜ける"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2FEmacs%A4%AB%A4%E9%C8%B4%A4%B1%A4%EB">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3130"></A>
<A NAME="IDX3131"></A>
<P>

Emacsから抜けるには2つの方法があります。
Emacsを終了するためにEmacsジョブをキルするか、
あとでEmacsを継続できるように休止します。
実用上は、ログアウトするとき以外にはEmacsをほとんど終了しないでしょう。
Emacsを休止するほうが一般的です。
<P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC643">39.2.1 Emacsの終了</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Exiting Emacs irreversibly.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC644">39.2.2 Emacsの休止</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Exiting Emacs reversibly.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Killing Emacs"></A>
<HR SIZE="6">
<br><A NAME="SEC643"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC642"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC644"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Killing Emacs"></A>
<H3> 39.2.1 Emacsの終了 </H3>
<!--docid::SEC643::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Killing%20Emacs">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Killing%20Emacs</a>"<br>
"texi/elisp21/Emacsの終了"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2FEmacs%A4%CE%BD%AA%CE%BB">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3132"></A>
<A NAME="IDX3133"></A>
<P>

Emacsを終了するとは、Emacsプロセスの実行を終らせることを意味します。
親プロセスが普通は制御を取り戻します。
Emacsを終了するための下位の基本関数は<CODE>kill-emacs</CODE>です。
<P>

<A NAME="IDX3134"></A>
<DL>
<DT><U>Function:</U> <B>kill-emacs</B> <I>&#38;optional exit-data</I>
<DD>この関数は、Emacsプロセスを終了しEmacsを終える。
<P>

<VAR>exit-data</VAR>が整数であると、Emacsプロセスの終了状態として使われる。
（これは主にバッチ処理で有用である。
<A HREF="elisp_40.html#SEC657">39.12 バッチモード</A>を参照。）
<P>

<VAR>exit-data</VAR>が文字列であると、
その内容を端末入力バッファへ詰め込み、
シェル（やつぎに入力を読むプログラム）がそれらを読み取れるようにする。
</DL>
<P>

保存済みのファイルを除くEmacsプロセス内のすべての情報は、
Emacsを終了すると失われます。
Emacsを不注意に終了すると多くの作業を失うことになるので、
保存する必要があるバッファがあったり動作中のサブプロセスがあると、
Emacsは確認を求めます。
これは関数<CODE>save-buffers-kill-emacs</CODE>が行います。
<P>

<A NAME="IDX3135"></A>
<DL>
<DT><U>Variable:</U> <B>kill-emacs-query-functions</B>
<DD>標準的な問い合わせをしたあとで、
<CODE>save-buffers-kill-emacs</CODE>は、
リスト<CODE>kill-emacs-query-functions</CODE>内の関数を
現れる順に引数なしで呼び出す。
これらの関数では、ユーザーにさらなる確認を求めることができる。
これらのどれかが<CODE>nil</CODE>を返すと、Emacsは終了しない。
</DL>
<P>

<A NAME="IDX3136"></A>
<DL>
<DT><U>Variable:</U> <B>kill-emacs-hook</B>
<DD>この変数はノーマルフックである。
<CODE>save-buffers-kill-emacs</CODE>がファイルをすべて保存し確認し終えると、
このフックの関数群を実行する。
</DL>
<P>

<A NAME="Suspending Emacs"></A>
<HR SIZE="6">
<br><A NAME="SEC644"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC643"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC645"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Suspending Emacs"></A>
<H3> 39.2.2 Emacsの休止 </H3>
<!--docid::SEC644::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Suspending%20Emacs">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Suspending%20Emacs</a>"<br>
"texi/elisp21/Emacsの休止"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2FEmacs%A4%CE%B5%D9%BB%DF">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3137"></A>
<A NAME="IDX3138"></A>
<P>

<EM>Emacsを休止する</EM>とは、Emacsを一時的に停止し、
普通はシェルである親プロセスに制御を戻すことです。
これにより、あとで同じEmacsプロセスで、つまり、同じバッファ群、
同じキルリング、同じアンドゥ履歴などで編集を再開できます。
Emacsを再開するには、親シェルにおいて
ほとんどの場合<CODE>fg</CODE>などの適切なコマンドを使います。
<P>

ジョブの休止を扱えないオペレーティングシステムもあります。
そのようなシステムでは、『休止』はEmacsのサブプロセスとして
一時的に新たなシェルを実際には作成します。
そのシェルを終了するとEmacsに戻ります。
<P>

ウィンドウシステムを使っている場合には、
Emacsジョブを再開する親プロセスがいないかもしれませんし、
別のウィンドウへ移動すれば別のジョブへ入力できますから、
Emacsの休止は有用ではありません。
したがって、Emacsがウィンドウシステムを使っている場合には、
休止できません。
<P>

<A NAME="IDX3139"></A>
<DL>
<DT><U>Function:</U> <B>suspend-emacs</B> <I>string</I>
<DD>この関数は、Emacsを休止し、親プロセスへ制御を戻す。
親プロセスがEmacsを再開した場合にのみ、
<CODE>suspend-emacs</CODE>はLisp内の呼び出し側へ<CODE>nil</CODE>を返す。
<P>

<VAR>string</VAR>が<CODE>nil</CODE>以外であると、
Emacsの親シェルが端末入力として読めるようにその文字群を送る。
親シェルは<VAR>string</VAR>の文字群を表示せず、
その結果のみが現れる。
<P>

休止するまえに、<CODE>suspend-emacs</CODE>は
ノーマルフック<CODE>suspend-hook</CODE>を実行する。
<P>

ユーザーがEmacsを再開すると、<CODE>suspend-emacs</CODE>は
ノーマルフック<CODE>suspend-resume-hook</CODE>を実行する。
see 節 <A HREF="elisp_23.html#SEC362">22.6 フック</A>。
<P>

再開後のつぎの再表示では、
変数<CODE>no-redraw-on-reenter</CODE>が<CODE>nil</CODE>ならば
スクリーン全体を再描画する。
（see 節 <A HREF="elisp_38.html#SEC600">37.1 スクリーン全体の再表示</A>）。
<P>

つぎの例では、Emacsを休止しても`<SAMP>pwd</SAMP>'は表示されないことに注意。
しかし、シェルはそれを読み取って実行する。
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(suspend-emacs)
     => nil

(add-hook 'suspend-hook
          (function (lambda ()
                      (or (y-or-n-p
                            "Really suspend? ")
                          (error "Suspend cancelled")))))
     => (lambda nil
          (or (y-or-n-p "Really suspend? ")
              (error "Suspend cancelled")))
(add-hook 'suspend-resume-hook
          (function (lambda () (message "Resumed!"))))
     => (lambda nil (message "Resumed!"))
(suspend-emacs "pwd")
     => nil
---------- Buffer: Minibuffer ----------
Really suspend? <KBD>y</KBD>
---------- Buffer: Minibuffer ----------

---------- Parent Shell ----------
lewis&#64;slug[23] % /user/lewis/manual
lewis&#64;slug[24] % fg

---------- Echo Area ----------
Resumed!
</FONT></pre></td></tr></table></DL>
<P>

<A NAME="IDX3140"></A>
<DL>
<DT><U>Variable:</U> <B>suspend-hook</B>
<DD>この変数は、休止するまえに実行されるノーマルフックである。
</DL>
<P>

<A NAME="IDX3141"></A>
<DL>
<DT><U>Variable:</U> <B>suspend-resume-hook</B>
<DD>この変数は、再開後に実行されるノーマルフックである。
</DL>
<P>

<A NAME="System Environment"></A>
<HR SIZE="6">
<br><A NAME="SEC645"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC644"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC646"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="System Environment"></A>
<H2> 39.3 オペレーティングシステム環境 </H2>
<!--docid::SEC645::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=System%20Environment">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=System%20Environment</a>"<br>
"texi/elisp21/オペレーティングシステム環境"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%AA%A5%DA%A5%EC%A1%BC%A5%C6%A5%A3%A5%F3%A5%B0%A5%B7%A5%B9%A5%C6%A5%E0%B4%C4%B6%AD">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3142"></A>
<P>

Emacsでは、さまざまな関数を介して
オペレーティングシステム環境の変数を参照できます。
これらの変数には、システムの名前、ユーザーの識別番号UIDなどが
含まれます。
<P>

<A NAME="IDX3143"></A>
<DL>
<DT><U>Variable:</U> <B>system-configuration</B>
<DD>この変数は、読者のシステムのハードウェア／ソフトウェア構成に対する
GNUの構成名を文字列で保持している。
この文字列の一部分を検査する簡便な方法は
<CODE>string-match</CODE>を使うことである。
</DL>
<P>

<A NAME="IDX3144"></A>
<DL>
<DT><U>Variable:</U> <B>system-type</B>
<DD>この変数の値は、Emacsが動作している
オペレーティングシステムの種類を表すシンボルである。
つぎに可能な値の一覧を示す。
<P>

<DL COMPACT>
<DT><CODE>alpha-vms</CODE>
<DD>Alphaマシン上のVMS。
<P>

<DT><CODE>aix-v3</CODE>
<DD>AIX。
<P>

<DT><CODE>berkeley-unix</CODE>
<DD>バークレーBSD。
<P>

<DT><CODE>dgux</CODE>
<DD>データジェネラルDGUXオペレーティングシステム。
<P>

<DT><CODE>gnu</CODE>
<DD>（HURDかMachから成るGNUカーネルを使っている）GNUシステム。
<P>

<DT><CODE>gnu/linux</CODE>
<DD>GNU/Linuxシステム。
つまり、Linuxカーネルを用いたGNUシステムの変種。
（これらのシステムは人々が『Linux』と呼ぶものの1つであるが、
Linxuは実際にはカーネルのみであり、システム全体ではない。）
<P>

<DT><CODE>hpux</CODE>
<DD>ヒューレットパッカードHPUXオペレーティングシステム。
<P>

<DT><CODE>irix</CODE>
<DD>シリコングラフィックスIrixシステム。
<P>

<DT><CODE>ms-dos</CODE>
<DD>マイクロソフトMS-DOS『オペレーティングシステム』。
<P>

<DT><CODE>next-mach</CODE>
<DD>NeXTのMachベースのシステム。
<P>

<DT><CODE>rtu</CODE>
<DD>マスコンプRTU、UCBユニバース。
<P>

<DT><CODE>unisoft-unix</CODE>
<DD>ユニソフトUniPlus。
<P>

<DT><CODE>usg-unix-v</CODE>
<DD>AT&#38;T System V。
<P>

<DT><CODE>vax-vms</CODE>
<DD>VAX VMS。
<P>

<DT><CODE>windows-nt</CODE>
<DD>マイクロソフトWindows NT。
<P>

<DT><CODE>xenix</CODE>
<DD>SCO Xenix 386。
</DL>
<P>

絶対に必要でない限り、細分類のために新たなシンボルを追加したくない！<CODE> </CODE>
実際、将来にはこれらのいくつかを削除することを願っている。
オペレーティングシステムの違いを区別するには、
<CODE>system-configuration</CODE>を使うことを勧める。
</DL>
<P>

<A NAME="IDX3145"></A>
<DL>
<DT><U>Function:</U> <B>system-name</B>
<DD>この関数は読者が使っているマシンの名前を返す。
<TABLE><tr><td>&nbsp;</td><td class=example><pre>(system-name)
     => "www.gnu.org"
</pre></td></tr></table></DL>
<P>

シンボル<CODE>system-name</CODE>は、関数としても変数としても使えます。
実際、関数としては、変数<CODE>system-name</CODE>が現在保持している値を返します。
したがって、Emacsが読者のシステム名に関して混乱している場合には、
変数<CODE>system-name</CODE>に設定できます。
変数はフレームタイトルの作成にも有用です（see 節 <A HREF="elisp_29.html#SEC442">28.4 フレームタイトル</A>）。
<P>

<A NAME="IDX3146"></A>
<DL>
<DT><U>Variable:</U> <B>mail-host-address</B>
<DD>この変数が<CODE>nil</CODE>以外であると、<CODE>system-name</CODE>のかわりに
電子メイルアドレスの生成に使われる。
たとえば、<CODE>user-mail-address</CODE>のデフォルト値の作成に使われる。
see 節 <A HREF="elisp_40.html#SEC646">39.4 ユーザーの識別</A>。
（これはEmacsの始動時に行われるため、
Emacsをダンプしたときの値が実際に使われる値である。
see 節 <A HREF="elisp_43.html#SEC668">C.1 Emacsの構築方法</A>）。
</DL>
<P>

<A NAME="IDX3147"></A>
<DL>
<DT><U>Function:</U> <B>getenv</B> <I>var</I>
<DD><A NAME="IDX3148"></A>
<A NAME="IDX3149"></A>
この関数は、環境変数<VAR>var</VAR>の値を文字列で返す。
Emacs内部では、環境変数の値はLisp変数<CODE>process-environment</CODE>に
保持されている。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(getenv "USER")
     => "lewis"

lewis&#64;slug[10] % printenv
PATH=.:/user/lewis/bin:/usr/bin:/usr/local/bin
USER=lewis
TERM=ibmapa16
SHELL=/bin/csh
HOME=/user/lewis
</pre></td></tr></table></DL>
<P>

<A NAME="IDX3150"></A>
<DL>
<DT><U>コマンド:</U> <B>setenv</B> <I>variable value</I>
<DD>このコマンドは、環境変数<VAR>variable</VAR>に値<VAR>value</VAR>を設定する。
どちらの引数も文字列である。
この関数は<CODE>process-environment</CODE>を修正することで動作する。
この変数を<CODE>let</CODE>で束縛しても十分に実用的である。
</DL>
<P>

<A NAME="IDX3151"></A>
<DL>
<DT><U>Variable:</U> <B>process-environment</B>
<DD>この変数は、各要素が1つの環境変数を記述する文字列のリストである。
関数<CODE>getenv</CODE>と<CODE>setenv</CODE>は、この変数を用いて動作する。
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>process-environment
=> ("l=/usr/stanford/lib/gnuemacs/lisp"
    "PATH=.:/user/lewis/bin:/usr/class:/nfsusr/local/bin"
    "USER=lewis" 
    "TERM=ibmapa16" 
    "SHELL=/bin/csh"
    "HOME=/user/lewis")
</FONT></pre></td></tr></table></DL>
<P>

<A NAME="IDX3152"></A>
<DL>
<DT><U>Variable:</U> <B>path-separator</B>
<DD>この変数は、（環境変数などで）探索パスを
区切る文字を指定する文字列を保持する。
UNIXとGNUシステムではその値は<CODE>":"</CODE>であり、
MS-DOSとWidows NTでは<CODE>";"</CODE>である。
</DL>
<P>

<A NAME="IDX3153"></A>
<DL>
<DT><U>Variable:</U> <B>invocation-name</B>
<DD>この変数は、起動したEmacsのプログラム名を保持する。
値は文字列であり、ディレクトリ名は含まない。
</DL>
<P>

<A NAME="IDX3154"></A>
<DL>
<DT><U>Variable:</U> <B>invocation-directory</B>
<DD>この変数は、起動したEmacsの実行形式のディレクトリを保持する。
ディレクトリを判別できない場合には<CODE>nil</CODE>である。
</DL>
<P>

<A NAME="IDX3155"></A>
<DL>
<DT><U>Variable:</U> <B>installation-directory</B>
<DD><CODE>nil</CODE>以外であると、サブディレクトリ`<TT>lib-src</TT>'と`<TT>etc</TT>'を
探すためのディレクトリである。
Emacsがこれらのディレクトリを標準のインストールディレクトリで
みつけられなくてもEmacsの実行形式になんらかの意味で
関連するディレクトリでみつけられれば、<CODE>nil</CODE>以外である。
</DL>
<P>

<A NAME="IDX3156"></A>
<DL>
<DT><U>Function:</U> <B>load-average</B> <I>&#38;optional use-float</I>
<DD>この関数は、1分間／5分間／15分間のロードアベレッジ
（負荷平均）をリストで返す。
<P>

デフォルトでは、これらの値は、動作しようとしてるプロセスの平均個数を表す
システムのロードアベレッジを100倍した整数である。
<VAR>use-float</VAR>が<CODE>nil</CODE>以外であると、
100倍しない浮動小数点数で返す。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(load-average)
     => (169 48 36)
(load-average t)
     => (1.69 0.48 0.36)

lewis&#64;rocky[5] % uptime
 11:55am  up 1 day, 19:37,  3 users,
 load average: 1.69, 0.48, 0.36
</pre></td></tr></table></DL>
<P>

<A NAME="IDX3157"></A>
<DL>
<DT><U>Function:</U> <B>emacs-pid</B>
<DD>この関数は、Emacsプロセスのプロセス番号IDを返す。
</DL>
<P>

<A NAME="IDX3158"></A>
<DL>
<DT><U>Variable:</U> <B>tty-erase-char</B>
<DD><A NAME="IDX3159"></A>
この変数は、Emacsが始動するまえに
システムの端末ドライバが選んでいた消去文字を保持する。
</DL>
<P>

<A NAME="IDX3160"></A>
<DL>
<DT><U>Function:</U> <B>setprv</B> <I>privilege-name &#38;optional setp getprv</I>
<DD>この関数は、（UNIX上には存在しない）VMS基本操作を設定／再設定する。
最初の引数は文字列で表した基本操作の名前である。
第2引数<VAR>setp</VAR>は<CODE>t</CODE>か<CODE>nil</CODE>であり、
基本操作をオンにするかオフにするかを表す。
デフォルトは<CODE>nil</CODE>である。
関数は、成功すれば<CODE>t</CODE>を返し、さもなければ<CODE>nil</CODE>を返す。
<P>

第3引数<VAR>getprv</VAR>が<CODE>nil</CODE>以外であると、
<CODE>setprv</CODE>は基本操作を変更しないが、
その基本操作が現在オンであるかオフであるかを表す
<CODE>t</CODE>か<CODE>nil</CODE>を返す。
</DL>
<P>

<A NAME="User Identification"></A>
<HR SIZE="6">
<br><A NAME="SEC646"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC645"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC647"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="User Identification"></A>
<H2> 39.4 ユーザーの識別 </H2>
<!--docid::SEC646::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=User%20Identification">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=User%20Identification</a>"<br>
"texi/elisp21/ユーザーの識別"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%E6%A1%BC%A5%B6%A1%BC%A4%CE%BC%B1%CA%CC">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

<A NAME="IDX3161"></A>
<DL>
<DT><U>Variable:</U> <B>init-file-user</B>
<DD>この変数は、Emacsが使用すべきユーザー初期化ファイルを指定する。
あるいは、そのようなものがなければ<CODE>nil</CODE>である。
この値は、`<SAMP>-q</SAMP>'や`<SAMP>-u <VAR>user</VAR></SAMP>'の
コマンド行オプションを反映する。
<P>

カスタマイズファイルや他の種類のユーザープロフィールを
ロードするLispパッケージは、それらを探す場所を判断するために
この変数に従うこと。
この変数のユーザー名のカスタマイズをロードするべきである。
<CODE>init-file-user</CODE>が<CODE>nil</CODE>であると
オプション`<SAMP>-q</SAMP>'が使われたことを意味し、
Lispパッケージはいかなるカスタマイズファイルや
ユーザープロフィールもロードしないこと。
</DL>
<P>

<A NAME="IDX3162"></A>
<DL>
<DT><U>Variable:</U> <B>user-mail-address</B>
<DD>これは、Emacsを使用しているユーザーの通常の電子メイルアドレスを保持する。
Emacsは通常、読者の初期化ファイルを読み取ったあと、
この変数が未設定であるとデフォルト値を設定する。
したがって、デフォルト値を使いたくない場合には、
読者のファイル`<TT>~/.emacs</TT>'で別の値に設定できる。
</DL>
<P>

<A NAME="IDX3163"></A>
<DL>
<DT><U>Function:</U> <B>user-login-name</B> <I>&#38;optional uid</I>
<DD><VAR>uid</VAR>を指定しないと、
この関数はログインしたユーザー名を返す。
環境変数<CODE>LOGNAME</CODE>が設定されていればその値を使う。
さもなければ、環境変数<CODE>USER</CODE>が設定されていればその値を使う。
さもなければ、実UIDではなく実効UIDに基づいた値である。
<P>

UIDを指定すると、値は（整数である）UIDに
対応するユーザー名である。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(user-login-name)
     => "lewis"
</pre></td></tr></table></DL>
<P>

<A NAME="IDX3164"></A>
<DL>
<DT><U>Function:</U> <B>user-real-login-name</B>
<DD>この関数は、Emacsの実UIDに対応するユーザー名を返す。
これは、実効UIDや環境変数<CODE>LOGNAME</CODE>と<CODE>USER</CODE>を無視する。
</DL>
<P>

<A NAME="IDX3165"></A>
<DL>
<DT><U>Function:</U> <B>user-full-name</B> <I>&#38;optional uid</I>
<DD>この関数は、ログインしたユーザーの氏名を返す。
あるいは、環境変数<CODE>NAME</CODE>が設定してあればその値を返す。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(user-full-name)
     => "Bil Lewis"
</pre></td></tr></table><P>

<VAR>uid</VAR>が<CODE>nil</CODE>以外であると、
それは整数のユーザー番号か文字列のログイン名であること。
すると、<CODE>user-full-name</CODE>は、
そのユーザー番号かログイン名に対応するユーザーの氏名を返す。
</DL>
<P>

<A NAME="IDX3166"></A>
<A NAME="IDX3167"></A>
<A NAME="IDX3168"></A>
シンボル<CODE>user-login-name</CODE>、<CODE>user-real-login-name</CODE>、
<CODE>user-full-name</CODE>は、関数でもある変数です。
関数としては、その変数が保持する値と同じ値を返します。
これらの変数により、関数として返す値を指定しておくことで
Emacsを『ごまかせ』ます。
これらの変数は、フレームタイトルの作成にも有用です
（see 節 <A HREF="elisp_29.html#SEC442">28.4 フレームタイトル</A>）。
<P>

<A NAME="IDX3169"></A>
<DL>
<DT><U>Function:</U> <B>user-real-uid</B>
<DD>この関数は、ユーザーの実UIDを返す。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(user-real-uid)
     => 19
</pre></td></tr></table></DL>
<P>

<A NAME="IDX3170"></A>
<DL>
<DT><U>Function:</U> <B>user-uid</B>
<DD>この関数は、ユーザーの実効UIDを返す。
</DL>
<P>

<A NAME="Time of Day"></A>
<HR SIZE="6">
<br><A NAME="SEC647"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC646"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC648"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Time of Day"></A>
<H2> 39.5 時刻 </H2>
<!--docid::SEC647::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Time%20of%20Day">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Time%20of%20Day</a>"<br>
"texi/elisp21/時刻"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%BB%FE%B9%EF">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

本節では、現在時刻と時刻帯（タイムゾーン）を調べる方法を説明します。
<P>

<A NAME="IDX3171"></A>
<DL>
<DT><U>Function:</U> <B>current-time-string</B> <I>&#38;optional time-value</I>
<DD>この関数は、人間向けの文字列で現在時刻と日付を返す。
文字列の書式は不変であり、各部分の文字数はつねに同じなので、
各部分を取り出すのに<CODE>substring</CODE>を使っても問題ない。
将来、文字列の末尾に追加情報を付加することもあるので、
文字列の末尾からではなく先頭から文字を数えるほうがよい。
<P>

引数<VAR>time-value</VAR>を指定すると、
それは現在時刻のかわりに書式付けする時刻を指定する。
引数は、最初の2つの要素が整数であるリストであること。
したがって、<CODE>current-time</CODE>（下記参照）や
<CODE>file-attributes</CODE>（see 節 <A HREF="elisp_25.html#SEC381">24.6.4 ファイルに関する他の情報</A>）で得た時刻を使える。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(current-time-string)
     => "Wed Oct 14 22:21:05 1987"
</pre></td></tr></table></DL>
<P>

<A NAME="IDX3172"></A>
<DL>
<DT><U>Function:</U> <B>current-time</B>
<DD>この関数は、システムの時刻の値を
3つの整数のリスト<CODE>(<VAR>high</VAR> <VAR>low</VAR> <VAR>microsec</VAR>)</CODE>で返す。
整数<VAR>high</VAR>と<VAR>low</VAR>を組み合わせると
1970年1月1日0:00からの経過秒数を与える。
つまり、経過秒数は
<VAR>high</VAR> * 2**16 + <VAR>low</VAR>である。
<P>

第3要素<VAR>microsec</VAR>は、現在の秒内のミリ秒を表す
（返す時間精度が秒のシステムでは0）。
<P>

最初の2つの要素は、関数<CODE>file-attributes</CODE>で得られる
ファイルに関する時刻の値と比較できる。
see 節 <A HREF="elisp_25.html#SEC381">24.6.4 ファイルに関する他の情報</A>。
</DL>
<P>

<A NAME="IDX3173"></A>
<DL>
<DT><U>Function:</U> <B>current-time-zone</B> <I>&#38;optional time-value</I>
<DD>この関数は、ユーザーの地域の時刻帯を記述するリストを返す。
<P>

値は、<CODE>(<VAR>offset</VAR> <VAR>name</VAR>)</CODE>の形である。
ここで、<VAR>offset</VAR>はUTC
<A NAME="DOCF12" HREF="elisp_fot.html#FOOT12">(12)</A>
に対して進んでいる（グリニッジの東）秒数を
与える整数である。
第2要素<VAR>name</VAR>は、その時刻帯の名称を与える文字列である。
夏時間制が始まったり終ると、どちらの要素も変わる。
時刻帯には季節の時刻調整はないとユーザーが指定すると、
どちらの値も定数である。
<P>

値を計算するために必要な情報をオペレーティングシステムから得られないと
リストのどちらの要素も<CODE>nil</CODE>である。
<P>

引数<VAR>time-value</VAR>を指定すると、
現在時刻のかわりに分析すべき時刻を指定する。
引数は、2つの整数を収めたコンスセルであるか、
最初の2つの要素が整数であるリストであること。
したがって、<CODE>current-time</CODE>（上記参照）や
<CODE>file-attributes</CODE>（see 節 <A HREF="elisp_25.html#SEC381">24.6.4 ファイルに関する他の情報</A>）で得た時刻を使える。
</DL>
<P>

<A NAME="Time Conversion"></A>
<HR SIZE="6">
<br><A NAME="SEC648"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC647"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC649"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Time Conversion"></A>
<H2> 39.6 時刻の変換 </H2>
<!--docid::SEC648::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Time%20Conversion">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Time%20Conversion</a>"<br>
"texi/elisp21/時刻の変換"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%BB%FE%B9%EF%A4%CE%CA%D1%B4%B9">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

これらの関数は、時刻の値（2つか3つの整数から成るリスト）を
文字列や日時情報に変換します。
日時情報を時刻の値に変換する関数もあります。
時刻の値は、関数<CODE>current-time</CODE>（see 節 <A HREF="elisp_40.html#SEC647">39.5 時刻</A>）や
<CODE>file-attributes</CODE>（see 節 <A HREF="elisp_25.html#SEC381">24.6.4 ファイルに関する他の情報</A>）で得られます。
<P>

多くのオペレーティングシステムでは、時刻の値を32ビットに制限しています。
これらのシステムでは、典型的には協定世界時1901年12月13日20:45:52から
2038年1月19日03:14:07までしか表現できません。
しかし、より大きな時刻の値を扱い、
より広い範囲の過去から未来を表現できるシステムもあります。
<P>

時刻変換関数は、グレゴリオ暦を導入するまえであっても
つねにグレゴリオ暦を使います。
紀元前1年からの経過年数を数え、通常のグレゴリオ暦のように0年を飛ばしません。
たとえば、-37年は、グレゴリオ暦紀元前38年を表します。
<P>

<A NAME="IDX3174"></A>
<DL>
<DT><U>Function:</U> <B>format-time-string</B> <I>format-string time</I>
<DD>この関数は、<VAR>time</VAR>を<VAR>format-string</VAR>に従って文字列に変換する。
引数<VAR>format-string</VAR>には、時刻のさまざまな部分で置き換えられる
`<SAMP>%</SAMP>'列を含んでよい。
`<SAMP>%</SAMP>'列の意味を以下に示す。
<P>

<DL COMPACT>
<DT>`<SAMP>%a</SAMP>'
<DD>曜日の省略名を表す。
<DT>`<SAMP>%A</SAMP>'
<DD>曜日の（省略しない）名称を表す。
<DT>`<SAMP>%b</SAMP>'
<DD>月の省略名を表す。
<DT>`<SAMP>%B</SAMP>'
<DD>月の（省略しない）名称を表す。
<DT>`<SAMP>%c</SAMP>'
<DD>`<SAMP>%x %X</SAMP>'の同義語。
<DT>`<SAMP>%C</SAMP>'
<DD>これにはローケル固有の意味がある。
デフォルトのローケル（`<SAMP>C</SAMP>'）では、`<SAMP>%A, %B %e, %Y</SAMP>'と等価。
<DT>`<SAMP>%d</SAMP>'
<DD>ゼロでパディングした月内の日。
<DT>`<SAMP>%D</SAMP>'
<DD>`<SAMP>%m/%d/%y</SAMP>'の同義語。
<DT>`<SAMP>%e</SAMP>'
<DD>空白でパディングした月内の日。
<DT>`<SAMP>%h</SAMP>'
<DD>`<SAMP>%b</SAMP>'の同義語。
<DT>`<SAMP>%H</SAMP>'
<DD>時（00-23）を表す。
<DT>`<SAMP>%I</SAMP>'
<DD>時（00-12）を表す。
<DT>`<SAMP>%j</SAMP>'
<DD>年内の日（001-366）を表す。
<DT>`<SAMP>%k</SAMP>'
<DD>空白でパディングした時（0-23）を表す。
<DT>`<SAMP>%l</SAMP>'
<DD>空白でパディングした時（0-12）を表す。
<DT>`<SAMP>%m</SAMP>'
<DD>月（01-12）を表す。
<DT>`<SAMP>%M</SAMP>'
<DD>分（00-59）を表す。
<DT>`<SAMP>%n</SAMP>'
<DD>改行を表す。
<DT>`<SAMP>%p</SAMP>'
<DD>`<SAMP>AM</SAMP>'か`<SAMP>PM</SAMP>'の適切なほうを表す。
<DT>`<SAMP>%r</SAMP>'
<DD>`<SAMP>%I:%M:%S %p</SAMP>'の同義語。
<DT>`<SAMP>%R</SAMP>'
<DD>`<SAMP>%H:%M</SAMP>'の同義語。
<DT>`<SAMP>%S</SAMP>'
<DD>秒（00-60）を表す。
<DT>`<SAMP>%t</SAMP>'
<DD>タブ文字を表す。
<DT>`<SAMP>%T</SAMP>'
<DD>`<SAMP>%H:%M:%S</SAMP>'の同義語。
<DT>`<SAMP>%U</SAMP>'
<DD>日曜日を週の始まりと仮定した年内の週（01-52）を表す。
<DT>`<SAMP>%w</SAMP>'
<DD>数字で表した曜日（0-6）。
日曜日を0とする。
<DT>`<SAMP>%W</SAMP>'
<DD>月曜日を週の始まりと仮定した年内の週（01-52）を表す。
<DT>`<SAMP>%x</SAMP>'
<DD>これにはローケル固有の意味がある。
デフォルトのローケル（`<SAMP>C</SAMP>'）では、`<SAMP>%D</SAMP>'と等価。
<DT>`<SAMP>%X</SAMP>'
<DD>これにはローケル固有の意味がある。
デフォルトのローケル（`<SAMP>C</SAMP>'）では、`<SAMP>%T</SAMP>'と等価。
<DT>`<SAMP>%y</SAMP>'
<DD>年の下2桁（00-99）を表す。
<DT>`<SAMP>%Y</SAMP>'
<DD>100年単位の年を表す。
<DT>`<SAMP>%Z</SAMP>'
<DD>時刻帯の省略名を表す。
</DL>
<P>

これらの`<SAMP>%</SAMP>'列には、桁数やパディングの種類も指定できる。
<CODE>printf</CODE>と同様に動作し、
`<SAMP>%</SAMP>'列のあいだに桁数を数字で指定する。
桁数を`<SAMP>0</SAMP>'で始めるとゼロでパディングすることを意味する。
桁数を`<SAMP>_</SAMP>'で始めると空白でパディングすることを意味する。
<P>

たとえば、`<SAMP>%S</SAMP>'は分内の秒数を指定し、
`<SAMP>%03S</SAMP>'はゼロでパディングして3桁にすることを意味し、
`<SAMP>%_3S</SAMP>'は空白でパディングして3桁にすることを意味する。
`<SAMP>%S</SAMP>'は普通はパディングして2桁にするため、
`<SAMP>%3S</SAMP>'だけであるとゼロでパディングする。
</DL>
<P>

<A NAME="IDX3175"></A>
<DL>
<DT><U>Function:</U> <B>decode-time</B> <I>time</I>
<DD>この関数は、時刻の値を日時情報に変換する。
戻り値は、つぎの9要素のリストである。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(<VAR>seconds</VAR> <VAR>minutes</VAR> <VAR>hour</VAR> <VAR>day</VAR> <VAR>month</VAR> <VAR>year</VAR> <VAR>dow</VAR> <VAR>dst</VAR> <VAR>zone</VAR>)
</pre></td></tr></table><P>

各要素の意味はつぎのとおりである。
<P>

<DL COMPACT>
<DT><VAR>sec</VAR>
<DD>0から59の整数で表した分内の秒数。
<DT><VAR>minute</VAR>
<DD>0から59の整数で表した時内の分数。
<DT><VAR>hour</VAR>
<DD>0から23の整数で表した日内の時。
<DT><VAR>day</VAR>
<DD>1から31の整数で表した月内の日。
<DT><VAR>month</VAR>
<DD>1から12の整数で表した年内の月。
<DT><VAR>year</VAR>
<DD>年。
典型的には1900より大きい。
<DT><VAR>dow</VAR>
<DD>日曜日を0とした0から6の整数で表した曜日。
<DT><VAR>dst</VAR>
<DD>夏時間制が有効であると<CODE>t</CODE>、さもなければ<CODE>nil</CODE>。
<DT><VAR>zone</VAR>
<DD>グリニッジから東周りではかった時刻帯を表す秒数。
</DL>
<P>

<B>Common Lispに関した注意：</B><CODE> </CODE>
Common Lispでは、<VAR>dow</VAR>と<VAR>zone</VAR>の意味が異なる。
</DL>
<P>

<A NAME="IDX3176"></A>
<DL>
<DT><U>Function:</U> <B>encode-time</B> <I>seconds minutes hour day month year &#38;optional <small>...</small>zone</I>
<DD>この関数は<CODE>decode-time</CODE>の逆である。
7項目から成る日時情報を時刻の値に変換する。
引数の意味については、上記<CODE>decode-time</CODE>の一覧を参照。
<P>

100未満の年は普通の年として扱う。
それらを1900年代として扱いたい場合には、
<CODE>encode-time</CODE>を呼び出すまえに修正しておくこと。
<P>

省略可能な引数<VAR>zone</VAR>のデフォルトは、
現在の時刻帯とその夏時間制の規則である。
指定する場合には、（<CODE>current-time-zone</CODE>で得られるような）リストであるか、
環境変数<CODE>TZ</CODE>と同じ形式の文字列であるか、
（<CODE>decode-time</CODE>で得られるような）整数であること。
指定した時刻帯は、夏時間の補正をせずに使われる。
<P>

<CODE>encode-time</CODE>に7引数より多く渡すと、
始めの6つを<VAR>seconds</VAR>から<VAR>year</VAR>までに、
最後の引数を<VAR>zone</VAR>に使い、そのあいだの引数は無視する。
この機能は、<CODE>decode-time</CODE>が返したリストの要素を
つぎのようにして<CODE>encode-time</CODE>の引数に使うことを可能にする。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(apply 'encode-time (decode-time <small>...</small>))
</pre></td></tr></table><P>

引数<VAR>sec</VAR>、<VAR>minute</VAR>、<VAR>hour</VAR>、<VAR>day</VAR>、<VAR>month</VAR>の
値が範囲外になるようにすると単純な日時演算を行える。
たとえば、0日はその月のまえの日を意味する。
<P>

オペレーティングは可能な時刻の値の範囲を制限する。
その範囲を越える時刻を符号化しようとするとエラーになる。
</DL>
<P>

<A NAME="Timers"></A>
<HR SIZE="6">
<br><A NAME="SEC649"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC648"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC650"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Timers"></A>
<H2> 39.7 遅延実行のためのタイマ </H2>
<!--docid::SEC649::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Timers">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Timers</a>"<br>
"texi/elisp21/遅延実行のためのタイマ"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C3%D9%B1%E4%BC%C2%B9%D4%A4%CE%A4%BF%A4%E1%A4%CE%A5%BF%A5%A4%A5%DE">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3177"></A>
<P>

未来のある時刻に関数を呼び出したり、
ある一定期間なにもしないでいたら関数を呼び出すために
<EM>タイマ</EM>を設定できます。
<P>

Emacsは、Lispプログラムの任意の箇所ではタイマを実行できません。
サブプロセスからの出力を受け取るときにだけタイマを実行できます。
つまり、待つことが<EM>可能</EM>な<CODE>sit-for</CODE>や<CODE>read-event</CODE>などの
基本関数の内側や（入力を）待っているあいだに実行できます。
したがって、Emacsが忙しいとタイマの実行が遅れることがあります。
しかし、Emacsが暇ならば、タイマの実行はとても正確です。
<P>

<A NAME="IDX3178"></A>
<DL>
<DT><U>Function:</U> <B>run-at-time</B> <I>time repeat function &#38;rest args</I>
<DD>この関数は、時刻<VAR>time</VAR>に引数<VAR>args</VAR>で
関数<VAR>function</VAR>を呼び出すように予約する。
引数<VAR>function</VAR>はのちに呼び出される関数であり、
引数<VAR>args</VAR>はそれを呼び出すときに与える引数である。
時刻<VAR>time</VAR>は文字列で指定する。
<P>

絶対時刻をさまざまな書式で指定できる。
この関数は、よく使われる日時の書式を受け付けるように努める。
正しい書式にはつぎの2つを含む。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre><VAR>year</VAR>-<VAR>month</VAR>-<VAR>day</VAR> <VAR>hour</VAR>:<VAR>min</VAR>:<VAR>sec</VAR> <VAR>timezone</VAR>

<VAR>hour</VAR>:<VAR>min</VAR>:<VAR>sec</VAR> <VAR>timezone</VAR> <VAR>month</VAR>/<VAR>day</VAR>/<VAR>year</VAR>
</pre></td></tr></table><P>

ここで、どちらの例のフィールドもすべて数である。
<CODE>current-time-string</CODE>が返す書式、および、
他の書式も許される。
<P>

相対時刻を指定するには、単位を伴った数字を使う。
たとえばつぎのとおり。
<P>

<DL COMPACT>
<DT>`<SAMP>1 min</SAMP>'
<DD>今から1分後。
<DT>`<SAMP>1 min 5 sec</SAMP>'
<DD>今から65秒後。
<DT>`<SAMP>1 min 2 sec 3 hour 4 day 5 week 6 fortnight 7 month 8 year</SAMP>'
<DD>今からちょうど103ヵ月、123日、10862秒後。
<A NAME="DOCF13" HREF="elisp_fot.html#FOOT13">(13)</A>
</DL>
<P>

<VAR>time</VAR>が数（整数か浮動小数点数）であれば、
秒単位の相対時刻を指定する。
<P>

引数<VAR>repeat</VAR>は、呼び出しをどの程度頻繁に繰り返すかを指定する。
<VAR>repeat</VAR>が<CODE>nil</CODE>であると、繰り返さずに
時刻<VAR>time</VAR>に関数<VAR>function</VAR>を一度だけ呼び出す。
<VAR>repeat</VAR>が数であると、繰り返し間隔を秒単位で指定する。
<P>

ほとんどの場合、<EM>最初</EM>の呼び出しでは<VAR>repeat</VAR>の効果はなく、
<VAR>time</VAR>だけが時刻を指定する。
1つ例外があり、<VAR>time</VAR>が<CODE>t</CODE>であると、
時刻が<VAR>repeat</VAR>の整数倍であるとタイマを実行する。
これは<CODE>display-time</CODE>のような関数に有用である。
<P>

関数<CODE>run-at-time</CODE>は、予約した未来の特定の動作を
識別するタイマを返す。
この値は、<CODE>cancel-timer</CODE>（下記参照）の呼び出しに使える。
</DL>
<P>

<A NAME="IDX3179"></A>
<DL>
<DT><U>Macro:</U> <B>with-timeout</B> <I>(seconds timeout-forms<small>...</small>) body<small>...</small></I>
<DD><VAR>body</VAR>を実行するが、<VAR>seconds</VAR>秒でその実行を諦める。
時間が切れるまえに<VAR>body</VAR>が終了すると
<CODE>with-timeout</CODE>は<VAR>body</VAR>の最後のフォームの値を返す。
しかし、時間が切れると<VAR>body</VAR>の実行を取り止め、
<CODE>with-timeout</CODE>は<VAR>timeout-forms</VAR>をすべて実行し、
それらの最後の値を返す。
<P>

このマクロは、<VAR>seconds</VAR>秒後に動作するタイマを設定することで動作する。
その時間内に<VAR>body</VAR>が終了すれば、タイマを取り消す。
タイマが実際に動作すると<VAR>body</VAR>の実行を終了させてから、
<VAR>timeout-forms</VAR>を実行する。
<P>

プログラムから待つことが可能な基本関数を呼び出したときにのみ、
タイマはLispプログラム内で実行可能なため、
<CODE>with-timeout</CODE>は<VAR>body</VAR>の計算途中では
<VAR>body</VAR>の実行を停止できない。
それらが待つことが可能な基本関数の1つを呼び出したときにのみ停止できる。
したがって、長い計算を行わない入力を待つような<VAR>body</VAR>に
<CODE>with-timeout</CODE>を使う。
</DL>
<P>

関数<CODE>y-or-n-p-with-timeout</CODE>は、
応答を長く待ちすぎないようにタイマを使った単純な例です。
See 節 <A HREF="elisp_20.html#SEC277">19.6 Yes/Noの問い合わせ</A>。
<P>

<A NAME="IDX3180"></A>
<DL>
<DT><U>Function:</U> <B>run-with-idle-timer</B> <I>secs repeat function &#38;rest args</I>
<DD>Emacsが<VAR>secs</VAR>秒間なにもしないときに実行するタイマを設定する。
<VAR>secs</VAR>の値は整数でも浮動小数点数でもよい。
<P>

<VAR>repeat</VAR>が<CODE>nil</CODE>であると、
これ以降にはじめてEmacsが十分長い期間なにもしないでいると、
タイマを一度だけ実行する。
しばしば<VAR>repeat</VAR>は<CODE>nil</CODE>以外であり、
Emacsが<VAR>secs</VAR>秒なにもしないでいる<EM>たびに</EM>
タイマを実行することを意味する。
<P>

関数<CODE>run-with-idle-timer</CODE>は、
<CODE>cancel-timer</CODE>（下記参照）の呼び出しに使えるタイマの値を返す。
</DL>
<P>

<A NAME="IDX3181"></A>
Emacsがユーザー入力を待ち始めると『アイドル状態』になり、
なにか入力がくるまでアイドル状態のままです。
5秒間のアイドル状態で動作するタイマがあったとすると、
Emacsがアイドルになってから約5秒後にそのタイマが実行されます。
しかし<VAR>repeat</VAR>が真（<CODE>nil</CODE>以外）であったとしても、
そのタイマはEmacsがアイドル状態であり続ける限りは再実行されません。
アイドル状態の期間は単調に増加するので、再度5秒後には戻りません。
<P>

Emacsがアイドル状態のときにはさまざまなことを行います。
ガベッジコレクション、自動保存、サブプロセスからのデータの処理です。
しかし、アイドル状態中のこれらの動作はアイドルタイマに干渉しません。
アイドル状態の時間を0にしないからです。
600秒に設定されたアイドルタイマは、
最後のユーザーコマンドを終了してから10分後に実行されます。
たとえその10分間に、サブプロセスの出力を何千回も受け取ろうが、
ガベッジコレクションや自動保存を行ったとしてもです。
<P>

ユーザーが入力を与えると、その入力を実行中はEmacsは非アイドル状態です。
そして再度アイドル状態になり、
繰り返すように設定されたアイドルタイマを1つずつそれ以降に実行します。
<P>

<A NAME="IDX3182"></A>
<DL>
<DT><U>Function:</U> <B>cancel-timer</B> <I>timer</I>
<DD>タイマ<VAR>timer</VAR>の予約を取り消す。
<VAR>timer</VAR>は、以前に<CODE>run-at-time</CODE>や
<CODE>run-with-idle-timer</CODE>が返した値であること。
これは、<CODE>run-at-time</CODE>の呼び出しの効果を取り消し、
その時刻になってもなにも特別なことは起こらない。
</DL>
<P>

<A NAME="Terminal Input"></A>
<HR SIZE="6">
<br><A NAME="SEC650"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC649"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC651"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Terminal Input"></A>
<H2> 39.8 端末入力 </H2>
<!--docid::SEC650::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Terminal%20Input">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Terminal%20Input</a>"<br>
"texi/elisp21/端末入力"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C3%BC%CB%F6%C6%FE%CE%CF">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3183"></A>
<P>

本節では、端末入力を記録したり処理する関数や変数について述べます。
関連する関数については<A HREF="elisp_38.html#SEC599">37. Emacsの画面表示</A>を参照してください。
<P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC651">39.8.1 入力方式</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Options for how input is processed.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC652">39.8.2 入力イベントの変換</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Low level conversion of some characters or events
			  into others.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_40.html#SEC653">39.8.3 入力を記録する</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Saving histories of recent or all input events.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Input Modes"></A>
<HR SIZE="6">
<br><A NAME="SEC651"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC650"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC652"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Input Modes"></A>
<H3> 39.8.1 入力方式 </H3>
<!--docid::SEC651::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Input%20Modes">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Input%20Modes</a>"<br>
"texi/elisp21/入力方式"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C6%FE%CE%CF%CA%FD%BC%B0">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3184"></A>
<A NAME="IDX3185"></A>
<P>

<A NAME="IDX3186"></A>
<DL>
<DT><U>Function:</U> <B>set-input-mode</B> <I>interrupt flow meta quit-char</I>
<DD>この関数は、キーボード入力を読み取るモードを設定する。
<VAR>interrupt</VAR>が<CODE>nil</CODE>以外であると、
Emacsは入力割り込みを用いる。
<CODE>nil</CODE>であると、CBREAKモードを用いる。
デフォルトの設定はシステムに依存する。
この指定に関わらずつねにCBREAKモードを用いるシステムもある。
<P>

EmacsがXと直接通信しているときは、
通信方法が割り込みであると承知していると
この引数を無視して割り込みを使う。
<P>

<VAR>flow</VAR>が<CODE>nil</CODE>以外であると、
Emacsは端末出力にフロー制御XON/XOFF（<KBD>C-q</KBD>、<KBD>C-s</KBD>）を用いる。
CBREAKモード以外ではこれの効果はない。
see 節 <A HREF="elisp_40.html#SEC656">39.11 フロー制御</A>。
<P>

引数<VAR>meta</VAR>は、文字コードが127を越える入力文字の扱い方を制御する。
<VAR>meta</VAR>が<CODE>t</CODE>であると、8ビット目が立っている文字を
メタ文字に変換する。
<VAR>meta</VAR>が<CODE>nil</CODE>であると、8ビット目を無視する。
パリティビットを用いる端末では、これが必要である。
<VAR>meta</VAR>が<CODE>t</CODE>でも<CODE>nil</CODE>でもないと、
Emacsは入力した8ビットすべてを無変更で使う。
8ビット文字集合を使う端末には、これがよい。
<P>

<VAR>quit-char</VAR>が<CODE>nil</CODE>以外であると、
中断に使用する文字を指定する。
通常、この文字は<KBD>C-g</KBD>である。
see 節 <A HREF="elisp_21.html#SEC311">20.9 中断</A>。
</DL>
<P>

関数<CODE>current-input-mode</CODE>は、Emacsが現在使用している
入力モードの設定を返します。
<P>

<A NAME="IDX3187"></A>
<DL>
<DT><U>Function:</U> <B>current-input-mode</B>
<DD>この関数は、キーボード入力を読み取るための現在のモードを返す。
<CODE>set-input-mode</CODE>の引数に対応する
<CODE>(<VAR>interrupt</VAR> <VAR>flow</VAR> <VAR>meta</VAR> <VAR>quit</VAR>)</CODE>の形の
リストを返す。
各要素の意味はつぎのとおりである。
<DL COMPACT>
<DT><VAR>interrupt</VAR>
<DD><CODE>nil</CODE>以外であると、Emacsは割り込み駆動の入力を用いている。
<CODE>nil</CODE>であると、EmacsはCBREAKモードを用いている。
<DT><VAR>flow</VAR>
<DD><CODE>nil</CODE>以外であると、
Emacsは端末出力にフロー制御XON/XOFF（<KBD>C-q</KBD>、<KBD>C-s</KBD>）
を用いている。
この値は、<VAR>interrupt</VAR>が<CODE>nil</CODE>の場合にのみ意味を持つ。
<DT><VAR>meta</VAR>
<DD>Emacsが入力文字の8ビット目をメタビットとして扱うときには<CODE>t</CODE>である。
Emacsが各入力文字の8ビット目をつねに0にするときには<CODE>t</CODE>である。
さもなければ、Emacsは文字コードとして8ビットすべてを使っている。
<DT><VAR>quit</VAR>
<DD>現在Emacsが中断に使っている文字であり、普通は<KBD>C-g</KBD>である。
</DL>
</DL>
<P>

<A NAME="Translating Input"></A>
<HR SIZE="6">
<br><A NAME="SEC652"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC651"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC653"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Translating Input"></A>
<H3> 39.8.2 入力イベントの変換 </H3>
<!--docid::SEC652::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Translating%20Input">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Translating%20Input</a>"<br>
"texi/elisp21/入力イベントの変換"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C6%FE%CE%CF%A5%A4%A5%D9%A5%F3%A5%C8%A4%CE%CA%D1%B4%B9">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3188"></A>
<P>

本節では、入力イベントをキー列の一部になるまえに別の
入力イベントに変換する機能について述べます。
これらの機能は、ここに述べる順に各イベントに適用されます。
つまり、各イベントはまず<CODE>extra-keyboard-modifiers</CODE>に従って修正され、
つぎに（適切ならば）<CODE>keyboard-translate-table</CODE>を介して変換され、
最後に指定されているキーボードコーディングシステムで復号化されます。
キー列の一部として読み取られるイベントであると、
読み取られるキー列に追加され、それを含む部分キー列を
まず<CODE>function-key-map</CODE>で検査してから、
つぎに<CODE>key-translation-map</CODE>で検査します。
<P>

<A NAME="IDX3189"></A>
<DL>
<DT><U>Variable:</U> <B>extra-keyboard-modifiers</B>
<DD>この変数は、Lispプログラムがキーボード上の
修飾キーを『押す』ことができるようにする。
<P>

<DL COMPACT>
<DT>1
<DD><KBD>SHIFT</KBD>キー。
<DT>2
<DD><KBD>LOCK</KBD>キー。
<DT>4
<DD><KBD>CTL</KBD>キー。
<DT>8
<DD><KBD>META</KBD>キー。
</DL>
<P>

ユーザーがキーボードのキーを打つたびに、
ビットマスクで指定した修飾キーが押し下げられているかのように
キーを修正する。
<P>

ウィンドウシステムを使っているときには、
プログラムは任意の修飾キーを『押す』ことができる。
さもなければ、<KBD>CTL</KBD>と<KBD>META</KBD>のキーのみを
仮想的に押すことができる。
</DL>
<P>

<A NAME="IDX3190"></A>
<DL>
<DT><U>Variable:</U> <B>keyboard-translate-table</B>
<DD>この変数は、キーボード文字の変換表である。
これにより、コマンドのバインディングを変更せずに、
キーボードのキー配置を変更できる。
その値は普通は文字テーブルであるか、あるいは、<CODE>nil</CODE>である。
<P>

<CODE>keyboard-translate-table</CODE>が文字テーブルであると、
キーボードから読み取った各文字をこの文字テーブルで探す。
みつけた値が<CODE>nil</CODE>以外であると、
実際の入力文字のかわりにその値を使う。
<P>

つぎの例では、<CODE>keyboard-translate-table</CODE>に文字テーブルを設定する。
そして、文字<KBD>C-s</KBD>と<KBD>C-\</KBD>、<KBD>C-q</KBD>と<KBD>C-^</KBD>を入れ換える。
これ以降、<KBD>C-\</KBD>を打つと<KBD>C-s</KBD>を打った効果があり、
その逆もそうである。
（この話題に関しては詳しくは、see 節 <A HREF="elisp_40.html#SEC656">39.11 フロー制御</A>。）
<P>

<A NAME="IDX3191"></A>
<TABLE><tr><td>&nbsp;</td><td class=example><pre>(defun evade-flow-control ()
  "Replace C-s with C-\ and C-q with C-^."
  (interactive)
  (setq keyboard-translate-table
        (make-char-table 'keyboard-translate-table nil))
  ;; <KBD>C-s</KBD>と<KBD>C-\</KBD>を入れ換える
  (aset keyboard-translate-table ?\034 ?\^s)
  (aset keyboard-translate-table ?\^s ?\034)
  ;; <KBD>C-q</KBD>と<KBD>C-^</KBD>を入れ換える
  (aset keyboard-translate-table ?\036 ?\^q)
  (aset keyboard-translate-table ?\^q ?\036))
</pre></td></tr></table><P>

この変換は、端末から読み取った文字に最初に行われる変換である。
<CODE>recent-keys</CODE>のような記録機能やドリブルファイルは、
変換後の文字を記録する。
</DL>
<P>

<A NAME="IDX3192"></A>
<DL>
<DT><U>Function:</U> <B>keyboard-translate</B> <I>from to</I>
<DD>この関数は、文字コード<VAR>from</VAR>を文字コード<VAR>to</VAR>に変換するように
<CODE>keyboard-translate-table</CODE>を変更する。
必要ならばキーボード変換表を作成する。
</DL>
<P>

残りの変換機能は、読み取ったキー列の部分列を変換します。
それらは<CODE>read-key-sequence</CODE>に実装されていて、
<CODE>read-event</CODE>で読む入力には効果はありません。
<P>

<A NAME="IDX3193"></A>
<DL>
<DT><U>Variable:</U> <B>function-key-map</B>
<DD>この変数は、普通の文字端末上のファンクションキーが
送出する文字の列を記述したキーマップを保持する。
このキーマップは他のキーマップと同じ構造であるが、使い方が異なる。
キー列のバインディングではなく、
読み取りつつあるキー列を変換する方法を指定する。
<P>

<CODE>function-key-map</CODE>がキー列<VAR>k</VAR>を
ベクトル<VAR>v</VAR>に『バインド』すると、
キー列の<EM>どこに</EM><VAR>k</VAR>が現れても、
<VAR>v</VAR>のイベントで置き換える。
<P>

たとえば、端末VT100は、キーパッドのキー<KBD>PF1</KBD>を押すと
<KBD><KBD>ESC</KBD> O P</KBD>を送出する。
したがって、Emacsではこの列を1つのイベント<CODE>pf1</CODE>に変換したい。
VT100を使っているときに<CODE>function-key-map</CODE>において
<KBD><KBD>ESC</KBD> O P</KBD>を<CODE>[pf1]</CODE>に『バインド』すれば、
これを行える。
<P>

つまり、<KBD>C-c <KBD>PF1</KBD></KBD>を打つと
文字の列<KBD>C-c <KBD>ESC</KBD> O P</KBD>が送出される。
のちに関数<CODE>read-key-sequence</CODE>がこれを<KBD>C-c <KBD>PF1</KBD></KBD>に戻し、
ベクトル<CODE>[?\C-c pf1]</CODE>を返す。
<P>

マイナモード／ローカル／グローバルのキーマップに矛盾するような
<CODE>function-key-map</CODE>内の項目は無視される。
この意図は、ファンクションキーが送出する文字の列には
それ独自のキーバインディングがあるべきではなく、
もしあったとしても、もとの定義を優先することである。
<P>

<CODE>function-key-map</CODE>の値は、
端末のterminfoやtermcapの情報に従って自動的に普通は設定されるが、
端末固有のLispファイルの助けが必要な場合もある。
Emacsには、一般的な多くの端末向けの端末固有ファイルがある。
それらの主目的は、terminfoやtermcapから推定できないものを
<CODE>function-key-map</CODE>に定義することである。
see 節 <A HREF="elisp_40.html#SEC640">39.1.3 端末固有の初期化</A>。
</DL>
<P>

<A NAME="IDX3194"></A>
<DL>
<DT><U>Variable:</U> <B>key-translation-map</B>
<DD>この変数は、<CODE>function-key-map</CODE>と同様に
入力イベントを別の入力イベントへ変換するために用いる別のキーマップである。
<CODE>function-key-map</CODE>とは2つの意味で異なる。
<P>

<UL>
<LI>
<CODE>key-translation-map</CODE>は、
<CODE>function-key-map</CODE>の変換後に使われる。
<CODE>function-key-map</CODE>による変換結果を使う。
<P>

<LI>
<CODE>key-translation-map</CODE>は、実際のキーバインディングに優先する。
たとえば、<CODE>key-translation-map</CODE>で<KBD>C-x f</KBD>にバインディングがあると、
グローバルマップに<KBD>C-x f</KBD>のバインディングがあったとしても
変換結果が効果を持つ。
</UL>
<P>

<CODE>key-translation-map</CODE>の意図は、
<CODE>self-insert-command</CODE>に普通はバインドされる通常の文字を含めて
ユーザー向けに文字集合を別の文字集合に
対応付けられるようにすることである。
</DL>
<P>

<A NAME="IDX3195"></A>
キーの『変換として』キー列のかわりに関数を用いると、
<CODE>function-key-map</CODE>や<CODE>key-translation-map</CODE>は
単なる配置替え以上のことに使えます。
その関数で当該キーの変換を計算するのです。
<P>

キー変換関数は1つの引数を受け取ります。
その引数は、<CODE>read-key-sequence</CODE>で指定されたプロンプトか、
エディタコマンドループがキー列を読み取っている場合には<CODE>nil</CODE>です。
多くの場合、プロンプトの値は無視できます。
<P>

関数自身が入力を読むときには、
後続のイベントを変更することもできます。
たとえば、後続の文字をハイパー文字にする<KBD>C-c h</KBD>の定義は
つぎのようになります。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(defun hyperify (prompt)
  (let ((e (read-event)))
    (vector (if (numberp e)
                (logior (lsh 1 24) e)
              (if (memq 'hyper (event-modifiers e))
                  e
                (add-event-modifier "H-" e))))))

(defun add-event-modifier (string e)
  (let ((symbol (if (symbolp e) e (car e))))
    (setq symbol (intern (concat string
                                 (symbol-name symbol))))
    (if (symbolp e)
        symbol
      (cons symbol (cdr e)))))

(define-key function-key-map "\C-ch" 'hyperify)
</pre></td></tr></table><P>

<CODE>set-keyboard-coding-system</CODE>を用いた
キーボード文字集合の復号化を有効にしているときには、
上に述べた変換を終えてから復号化を行います。
See 節 <A HREF="elisp_33.html#SEC544">32.10.6 1つの操作向けにコーディングシステムを指定する</A>。
Emacsの将来の版では、他の変換のまえに復号化を行うでしょう。
<P>

<A NAME="Recording Input"></A>
<HR SIZE="6">
<br><A NAME="SEC653"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC652"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC654"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Recording Input"></A>
<H3> 39.8.3 入力を記録する </H3>
<!--docid::SEC653::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Recording%20Input">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Recording%20Input</a>"<br>
"texi/elisp21/入力を記録する"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C6%FE%CE%CF%A4%F2%B5%AD%CF%BF%A4%B9%A4%EB">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

<A NAME="IDX3196"></A>
<DL>
<DT><U>Function:</U> <B>recent-keys</B>
<DD>この関数は、キーボードやマウスからの最近の100個の入力イベントを収めた
ベクトルを返す。
キー列として使われたかどうかに関わらず、すべてのイベントを含む。
したがって、キーボードマクロで生成したイベントを数えずに
最後の100個のイベントをつねに得ることになる。
（キーボードマクロで生成したイベントを省くのは、
それらはデバッグにはあまり役立たないからである。
キーボードマクロを起動したイベントが見えれば十分なはずである。）
</DL>
<P>

<A NAME="IDX3197"></A>
<DL>
<DT><U>コマンド:</U> <B>open-dribble-file</B> <I>filename</I>
<DD><A NAME="IDX3198"></A>
この関数は、<VAR>filename</VAR>という名前の<EM>ドリブルファイル</EM>
（dribble file）をオープンする。
ドリブルファイルをオープンしていると、
（キーボードマクロを除く）キーボードやマウスからの各入力イベントを
そのファイルに書き出す。
文字でないイベントは、その表示表現を`<SAMP>&#60;<small>...</small>&#62;</SAMP>'で囲って表す。
<P>

ドリブルファイルをクローズするには、
引数に<CODE>nil</CODE>を指定してこの関数を呼び出す。
<P>

この関数は、バグ報告のために
Emacsのバグを引き起こす入力を記録するために普通は使う。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(open-dribble-file "~/dribble")
     => nil
</pre></td></tr></table></DL>
<P>

関数<CODE>open-termscript</CODE>（see 節 <A HREF="elisp_40.html#SEC654">39.9 端末出力</A>）も
参照してください。
<P>

<A NAME="Terminal Output"></A>
<HR SIZE="6">
<br><A NAME="SEC654"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC653"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC655"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Terminal Output"></A>
<H2> 39.9 端末出力 </H2>
<!--docid::SEC654::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Terminal%20Output">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Terminal%20Output</a>"<br>
"texi/elisp21/端末出力"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C3%BC%CB%F6%BD%D0%CE%CF">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3199"></A>
<P>

端末出力関数は、端末に出力を送ったり、
端末へ送った出力を記録します。
変数<CODE>baud-rate</CODE>は、Emacsが考えている端末の出力速度を表します。
<P>

<A NAME="IDX3200"></A>
<DL>
<DT><U>Variable:</U> <B>baud-rate</B>
<DD>この変数の値は、Emacsが関知する端末の出力速度である。
この変数に設定しても実際のデータ転送速度を変更しないが、
その値はパディングなどの計算に用いられる。
また、ウィンドウシステムを使っている場合であっても、
スクリーンのどの部分をスクロールするか、
あるいは、再描画するかの決定に影響する。
（このような決定を調整する方法を与えるために、
ウィンドウシステムには真の『出力速度』はないがこのように設計した。）
<P>

値の単位はボー（baud）である。
</DL>
<P>

ネットワーク経由で使い、
ネットワークの異なる部分が異なる速度で動いているときには、
Emacsが返す値はローカル端末で使っている場合の値と異なるかもしれません。
リモートマシンへの通信速度でローカル端末と通信する
ネットワークプロトコルもあり、
そのような場合、Emacsや他のプログラムは正しい値を得られます。
その他の場合では正しい値を得られません。
Emacsの値がまちがっているときには、
あまり最適でない決定をくだすでしょう。
この問題を修正するには、<CODE>baud-rate</CODE>に設定します。
<P>

<A NAME="IDX3201"></A>
<DL>
<DT><U>Function:</U> <B>baud-rate</B>
<DD>この廃れた関数は、変数<CODE>baud-rate</CODE>の値を返す。
</DL>
<P>

<A NAME="IDX3202"></A>
<DL>
<DT><U>Function:</U> <B>send-string-to-terminal</B> <I>string</I>
<DD>この関数は、なにも変更せずに文字列<VAR>string</VAR>を端末へ送る。
<VAR>string</VAR>内のコントロール文字は、端末に依存する効果を持つ。
<P>

この関数の1つの用途は、ファンクションキーの定義を
ダウンロード可能な端末のファンクションキーを定義することである。
たとえば、ファンクションキー4を（文字の列<KBD>C-u C-f</KBD>を
計算機に送って）4文字進めると定義にするには、
特定の端末ではつぎのようにする。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(send-string-to-terminal "\eF4\^U\^F")
     => nil
</pre></td></tr></table></DL>
<P>

<A NAME="IDX3203"></A>
<DL>
<DT><U>コマンド:</U> <B>open-termscript</B> <I>filename</I>
<DD><A NAME="IDX3204"></A>
この関数は、Emacsが端末へ送出するすべての文字を記録する
<EM>タームスクリプトファイル</EM>（termscript file）を
オープンするために使う。
関数は<CODE>nil</CODE>を返す。
タームスクリプトファイルは、
Emacsがスクリーンを乱してしまう問題、
誤ったtermcap定義やEmacsの実際のバグではない端末の望ましくない設定の
問題を調べるのに有用である。
どのような文字の列が実際に出力されるか確信できれば、
それらが使用中のtermcapのどの定義に対応するか調べられる。
<P>

<A HREF="elisp_40.html#SEC650">39.8 端末入力</A>の<CODE>open-dribble-file</CODE>も参照。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(open-termscript "../junk/termscript")
     => nil
</pre></td></tr></table></DL>
<P>

<A NAME="Special Keysyms"></A>
<HR SIZE="6">
<br><A NAME="SEC655"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC654"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC656"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Special Keysyms"></A>
<H2> 39.10 システム固有のX11のキーシンボル </H2>
<!--docid::SEC655::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Special%20Keysyms">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Special%20Keysyms</a>"<br>
"texi/elisp21/システム固有のX11のキーシンボル"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%B7%A5%B9%A5%C6%A5%E0%B8%C7%CD%AD%A4%CEX11%A4%CE%A5%AD%A1%BC%A5%B7%A5%F3%A5%DC%A5%EB">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

システム固有のX11のキーシンボル（keysym）を定義するには、
変数<CODE>system-key-alist</CODE>に設定します。
<P>

<A NAME="IDX3205"></A>
<DL>
<DT><U>Variable:</U> <B>system-key-alist</B>
<DD>この変数の値は、各要素がシステム固有の
各キーシンボルに対応する連想リストであること。
要素は<CODE>(<VAR>code</VAR> . <VAR>symbol</VAR>)</CODE>の形である。
ここで、<VAR>code</VAR>は（『提供業者固有の』ビット
-2**28を
含まない）数値のキーシンボルコードであり、
<VAR>symbol</VAR>はファンクションキーの名前である。
<P>

たとえば、<CODE>(168 . mute-acute)</CODE>は、
数値コードが
-2**28
+ 168 であるHP Xサーバーが使うシステム固有キーを定義する。
<P>

実際に使用しているXサーバーのキーシンボルと衝突しなければ、
他のXサーバー向けのキーシンボルを連想リストから省かなくても問題ない。
<P>

変数は現在の端末につねにローカルであり、
バッファローカルにはなりえない。
see 節 <A HREF="elisp_29.html#SEC436">28.2 複数ディスプレイ</A>。
</DL>
<P>

<A NAME="Flow Control"></A>
<HR SIZE="6">
<br><A NAME="SEC656"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC655"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC657"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Flow Control"></A>
<H2> 39.11 フロー制御 </H2>
<!--docid::SEC656::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Flow%20Control">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Flow%20Control</a>"<br>
"texi/elisp21/フロー制御"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%D5%A5%ED%A1%BC%C0%A9%B8%E6">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3206"></A>
<P>

本節では、
『Emacsがなぜコマンド文字集合の中からフロー制御文字を使うのか？』という
質問に答えたいと思います。
この話題に関する別の視点については、
配布に含まれるファイル`<TT>emacs/INSTALL</TT>'の中の
フロー制御に関する記述を読んでください。
termcapの定義とDECの端末集線器については、
`<TT>emacs/etc/TERMS</TT>'を参照してください。
<P>

<A NAME="IDX3207"></A>
<A NAME="IDX3208"></A>
ある時期には、ほとんどの端末ではフロー制御を行っておらず、
<CODE>C-s</CODE>と<KBD>C-q</KBD>をフロー制御に用いるものもありませんでした。
したがって、コマンド文字として<CODE>C-s</CODE>と<KBD>C-q</KBD>を選ぶことは
自然であり議論の余地はありませんでした。
キーに割り付けるべきコマンドがたくさんあったので、
ほとんどすべてのASCIIコントロール文字に意味を与えました。
<P>

のちに、フロー制御にこれらの文字を必要とする端末が導入されたのです。
それらはフルスクリーンエディタ向きの端末ではなかったので、
Emacsの保守陣はそれらを無視しました。
後年、<KBD>C-s</KBD>と<KBD>C-q</KBD>によるフロー制御が
端末で広く使われるようになりましたが、当時はそれはオプションでした。
Emacsユーザーの多くはフロー制御をオフにして、
フロー制御のために無意味なキーバインディングに
替えようとはしなかったのです。
<P>

Emacsと端末や集線器の製造業者のどちらの使い方が『正しい』でしょう？<CODE> </CODE>
この問に簡単な答えはありません。
<P>

<KBD>C-s</KBD>と<KBD>C-q</KBD>で引き起こされる問題を解消するのに
気が進まないのは、<KBD>C-s</KBD>と<KBD>C-q</KBD>であることに理由がないからです。
文字ストリームに透過な別の（実用上一般的ではないが）
フロー制御技術があります。
さらに、それらをフロー制御に使うのは正式な規格ではありません。
興味深いことですが、（1970年ころの）紙テープパンチャ付きの
テレタイプモデル33では、計算機からパンチャをオン／オフするために
<KBD>C-s</KBD>と<KBD>C-q</KBD>を送っていました！
<P>

ウィンドウシステムやPC端末エミュレータが文字端末を置き換えるようになり
フロー制御の問題は徐々に解消しつつあります。
しばらくは、読者が望むならEmacsはフロー制御を
オンにする手軽な方法を提供します。
関数<CODE>enable-flow-control</CODE>を呼び出すのです。
<P>

<A NAME="IDX3209"></A>
<DL>
<DT><U>コマンド:</U> <B>enable-flow-control</B>
<DD>この関数は、出力のフロー制御に<KBD>C-s</KBD>と<KBD>C-q</KBD>を
使うようにするとともに、<CODE>keyboard-translate-table</CODE>
（see 節 <A HREF="elisp_40.html#SEC652">39.8.2 入力イベントの変換</A>）を用いて
<KBD>C-\</KBD>と<KBD>C-^</KBD>をそれらのかわりに使えるようにする。
</DL>
<P>

読者のファイル`<TT>.emacs</TT>'で関数<CODE>enable-flow-control-on</CODE>を使えば、
特定の種類の端末で自動的にフロー制御をオンにできます。
<P>

<A NAME="IDX3210"></A>
<DL>
<DT><U>Function:</U> <B>enable-flow-control-on</B> <I>&#38;rest termtypes</I>
<DD>この関数は、端末の種類が<VAR>termtypes</VAR>の1つであると、
フロー制御をオンにし<KBD>C-\</KBD>と<KBD>C-^</KBD>をかわりに使う。
たとえば、つぎのように使う。
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(enable-flow-control-on "vt200" "vt300" "vt101" "vt131")
</FONT></pre></td></tr></table></DL>
<P>

<CODE>enable-flow-control</CODE>が行う処理はつぎのとおりです。
<P>

<OL>
<LI>
<A NAME="IDX3211"></A>
<CODE>(set-input-mode nil t)</CODE>で
端末入力をCBREAKモードに設定し、
オペレーティングシステムにフロー制御を行うように指示する。
<P>

<LI>
<KBD>C-\</KBD>と<KBD>C-^</KBD>を<KBD>C-s</KBD>と<KBD>C-q</KBD>に変換するように
<CODE>keyboard-translate-table</CODE>を設定する。
非常に下位レベルであることを除けば、
Emacsは<KBD>C-s</KBD>や<KBD>C-q</KBD>を打ったと考えるので、
たとえ他のコマンドに対しても<KBD>C-\</KBD>や<KBD>C-^</KBD>を打ったとしても
実質的には<KBD>C-s</KBD>や<KBD>C-q</KBD>を打ったことになる。
see 節 <A HREF="elisp_40.html#SEC652">39.8.2 入力イベントの変換</A>。
</OL>
<P>

端末側がフロー制御文字を発行するのであれば、
カーネルのフロー制御処理をオンにすれば、
その端末に対する普通のパディングより少なくしても動作するはずです。
termcapの定義をカスタマイズしてパディング量を減らします。
あるいは、<CODE>baud-rate</CODE>に小さめの値を設定すると、
パディングの必要量の計算にEmacsは低い速度を使います。
See 節 <A HREF="elisp_40.html#SEC654">39.9 端末出力</A>。
<P>

<A NAME="Batch Mode"></A>
<HR SIZE="6">
<br><A NAME="SEC657"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_40.html#SEC656"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_41.html#SEC658"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Batch Mode"></A>
<H2> 39.12 バッチモード </H2>
<!--docid::SEC657::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Batch%20Mode">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Batch%20Mode</a>"<br>
"texi/elisp21/バッチモード"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%D0%A5%C3%A5%C1%A5%E2%A1%BC%A5%C9">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX3212"></A>
<A NAME="IDX3213"></A>
<P>

コマンド行オプション`<SAMP>-batch</SAMP>'は、
Emacsを非対話的に実行します。
このモードでは、Emacsは端末からコマンドを読まず、
端末のモードを変更せず、スクリーンに出力もしません。
これは、実行するLispプログラムを指定できるようにするためです。
それが終るとEmacsも終了します。
実行すべきプログラムは、
<VAR>file</VAR>という名前のライブラリをロードする`<SAMP>-l <VAR>file</VAR></SAMP>'、
および、
引数なしで関数<VAR>function</VAR>を呼び出す`<SAMP>-f <VAR>function</VAR></SAMP>'で
指定します。
<P>

バッチモードでは、ストリームとして<CODE>t</CODE>を指定した
<CODE>message</CODE>や<CODE>prin1</CODE>などでエコー領域に
表示されるLispプログラムの出力は、
Emacsの標準エラー記述子へ出力されます。
したがって、Emacsは非対話的な
アプリケーションプログラムのようにふるまいます。
（コマンドの表示などのEmacs自身がエコー領域に出力するものは
完全に抑制される。）
<P>

<A NAME="IDX3214"></A>
<DL>
<DT><U>Variable:</U> <B>noninteractive</B>
<DD>この変数は、Emacsがバッチモードで動作していると<CODE>nil</CODE>以外である。
</DL>
<P>

<A NAME="Antinews"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<a name="bottom"> </a>
<script type="text/javascript" src="style2.js"></script>
<div class="footer">
    <br>
    このページはMeadow (Emacs) の紹介ページです <br>
このWebページの各文書は自由にリンク・複製・再配布・改変していただいて構いません．
<br>ただし，複製・再配布・改変の場合は Meadow Memo のURLを記載しておいて下さい．<br>
<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=about%20link">Medow memoへのリンクについて</a>．<br>

間違い，要望等があれば<a href="mailto:akihisa@mail.ne.jp">akihisa@mail.ne.jp</a> か下記でどうぞ<br>

<br>

<FORM METHOD="post" ACTION="http://www.bookshelf.jp/cgi-bin/wwwmail.cgi" >
お名前：<INPUT TYPE="text" NAME="name" SIZE="30" MAXLENGTH="40" VALUE="ななしさん"><br>
メールアドレス：<INPUT TYPE="text" NAME="EMAIL" SIZE="25" MAXLENGTH="60" VALUE="secret@mail.adr"><br>
<input type="hidden" name="HPAGE" value="">
つっこみ：<br><TEXTAREA NAME="MESSAGE" ROWS="5" COLS="50">
</TEXTAREA><br><br>
<INPUT TYPE="submit" VALUE="送信">
<INPUT TYPE="reset" VALUE="クリア">
</FORM>

<br><A HREF="http://www.bookshelf.jp/cgi-bin/xct.cgi">ページ別カウンタ</a>
<br> Since 2002/12/13 <br>
</div>

</BODY>

</HTML>
