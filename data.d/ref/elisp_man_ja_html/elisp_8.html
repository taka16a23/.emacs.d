<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML lang="ja">
<!-- Created on October, 1  2005 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html;CHARSET=euc-jp">
<META NAME="keywords" CONTENT="meadow,mule,emacs,lisp,elisp,gnus,setting,設定,unix,cygwin">
<META http-equiv="Content-Script-Type" content="text/javascript">
<META NAME="description" CONTENT="Meadowの設定を紹介するページです">
<TITLE>GNU Emacs Lispリファレンスマニュアル:  シンボル</TITLE>

<META NAME="description" CONTENT="GNU Emacs Lispリファレンスマニュアル:  シンボル">
<META NAME="keywords" CONTENT="GNU Emacs Lispリファレンスマニュアル:  シンボル">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

<LINK REL="contents" HREF="elisp_toc.html#SEC_Contents">
<LINK REL="index" HREF="elisp_48.html#SEC681">
<LINK REL="next" HREF="elisp_9.html#SEC109">
<LINK REL="prev" HREF="elisp_7.html#SEC93">

<META http-equiv="Content-Style-Type" content="text/css">
<!-- 鶯と龜 ←日本語EUC誤判別対策用らしい; -->
<link rel="StyleSheet" href="../../../../soft/css/midnight.css" type="text/css" id="css1">
<script type="text/javascript" src="style1.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../soft/css/meadowmemo.css">

</HEAD>
<BODY LANG="ja" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<!--Infoseek Analyzer start-->
<script LANGUAGE="javascript">PgNo=6;</script>
<script src="http://js1.infoseek.co.jp/bin/57/00170.js"></script>
<noscript><a href="http://ax1.www.infoseek.co.jp/bin/go?0017057f" target="_blank">
<img src="http://ax1.www.infoseek.co.jp/bin/logo?0017057f" border=0></a></noscript>
<!--Infoseek Analyzer end-->
<a name="top"> </a>

<br><A NAME="SEC101"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_7.html#SEC100"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC102"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_7.html#SEC93"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_9.html#SEC109"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Symbols"></A>
<H1> 7. シンボル </H1>
<!--docid::SEC101::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Symbols">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Symbols</a>"<br>
"texi/elisp21/シンボル"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%B7%A5%F3%A5%DC%A5%EB">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX446"></A>
<P>

<EM>シンボル</EM>（symbol）とは、一意な名前が付いたオブジェクトです。
本章では、シンボル、その構成要素、属性リスト、作成方法とインターン方法に
ついて説明します。
シンボルの変数としての使用方法、関数名としての使用方法について説明した
別の章もあります。
<A HREF="elisp_11.html#SEC136">10. 変数</A>とSee 節 <A HREF="elisp_12.html#SEC156">11. 関数</A>。
シンボルの正確な入力構文については、See 節 <A HREF="elisp_3.html#SEC28">2.3.4 シンボル型</A>。
<P>

<CODE>symbolp</CODE>で、任意のLispオブジェクトがシンボルかどうか調べられます。
<P>

<A NAME="IDX447"></A>
<DL>
<DT><U>Function:</U> <B>symbolp</B> <I>object</I>
<DD>この関数は、<VAR>object</VAR>がシンボルならば<CODE>t</CODE>を返し、
さもなければ<CODE>nil</CODE>を返す。
</DL>
<P>

<div class="menuindex"><SCRIPT language=JavaScript src="index7.js"></SCRIPT></div><noscript><BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_8.html#SEC102">7.1 シンボルの構成要素</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Symbols have names, values, function definitions
                               and property lists.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_8.html#SEC103">7.2 シンボルを定義する</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">A definition says how a symbol will be used.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_8.html#SEC104">7.3 シンボルの作成とインターン</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">How symbols are kept unique.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_8.html#SEC105">7.4 属性リスト</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Each symbol has a property list
                               for recording miscellaneous information.</TD></TR>
</TABLE></BLOCKQUOTE></noscript>
<P>

<A NAME="Symbol Components"></A>
<HR SIZE="6">
<br><A NAME="SEC102"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC103"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_9.html#SEC109"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Symbol Components"></A>
<H2> 7.1 シンボルの構成要素 </H2>
<!--docid::SEC102::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Symbol%20Components">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Symbol%20Components</a>"<br>
"texi/elisp21/シンボルの構成要素"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%B7%A5%F3%A5%DC%A5%EB%A4%CE%B9%BD%C0%AE%CD%D7%C1%C7">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX448"></A>
<P>

各シンボルには4つの構成要素（つまり、『セル』）があり、
それぞれで別のオブジェクトを参照します。
<P>

<DL COMPACT>
<DT>表示名（print name）
<DD><A NAME="IDX449"></A>
<EM>表示名セル</EM>（print name cell）には、
シンボルの入力や表示に使う名前である文字列が入っている。
<A HREF="elisp_8.html#SEC104">7.3 シンボルの作成とインターン</A>の<CODE>symbol-name</CODE>を参照。
<P>

<DT>値（value）
<DD><A NAME="IDX450"></A>
<EM>値セル</EM>（value cell）には、
シンボルの変数としての現在値が入っている。
シンボルをフォームとして使用したとき、
フォームの値はシンボルの値セルの内容である。
<A HREF="elisp_11.html#SEC143">10.7 変数値の参照</A>の<CODE>symbol-value</CODE>を参照。
<P>

<DT>関数（function）
<DD><A NAME="IDX451"></A>
<EM>関数セル</EM>（function cell）には、シンボルの関数定義が入っている。
シンボルを関数として使用したとき、その関数定義を使う。
シンボルが、編集コマンドを実行するためのキーマップやキーボードマクロを
表すときもこのセルを使う。
各シンボルには値セルと関数セルが別々にあるので、
変数名と関数名は衝突しない。
<A HREF="elisp_12.html#SEC168">11.8 関数セルの内容の参照</A>の<CODE>symbol-function</CODE>を参照。
<P>

<DT>属性リスト（property list）
<DD><A NAME="IDX452"></A>
<EM>属性リストセル</EM>（property list cell）には、
シンボルの属性リストが入っている。
<A HREF="elisp_8.html#SEC105">7.4 属性リスト</A>の<CODE>symbol-plist</CODE>を参照。
</DL>
<P>

表示名セルはつねに文字列を保持していて、変更できません。
他の3つのセルには、任意の指定したLispオブジェクトを個別に設定できます。
<P>

表示名セルは、シンボルの名前である文字列を保持しています。
シンボルはテキスト上はその名前で表現されるので、
2つのシンボルが同じ名前を持たないことが重要です。
Lispリーダがこのことを保証します。
シンボルを読み取るたびに、新たにシンボルを作成するまえに、
指定した名前のシンボルが存在するかどうか調べます。
（GNU Emacs Lispでは、これにはハッシュアルゴリズムと
オブジェクト配列obarrayを使う。
see 節 <A HREF="elisp_8.html#SEC104">7.3 シンボルの作成とインターン</A>。）
<P>

普通の使い方では、関数セルには関数（see 節 <A HREF="elisp_12.html#SEC156">11. 関数</A>）や
マクロ（see 節 <A HREF="elisp_13.html#SEC171">12. マクロ</A>）が入っていて、
Lispインタープリタはそのように仮定します（see 節 <A HREF="elisp_9.html#SEC109">8. 評価</A>）。
シンボルの関数セルには、
キーボードマクロ（see 節 <A HREF="elisp_21.html#SEC316">20.14 キーボードマクロ</A>）、キーマップ（see 節 <A HREF="elisp_22.html#SEC317">21. キーマップ</A>）、
自動ロードオブジェクト（see 節 <A HREF="elisp_9.html#SEC119">8.2.8 自動ロード</A>）が入っていることもあります。
『関数<CODE>foo</CODE>』といった場合、実際には、シンボル<CODE>foo</CODE>の関数セルに
入っている関数を意味します。
必要な場合に限って区別します。
<P>

属性リストセルは、通常、正しい形式の属性リスト（see 節 <A HREF="elisp_8.html#SEC105">7.4 属性リスト</A>）が
入っている必要があり、さまざまな関数がそのように仮定しています。
<P>

関数セルや値セルは<EM>空</EM>（void）でもかまいません。
つまり、セルはどんなオブジェクトも指していません。
（このことは、シンボル<CODE>void</CODE>を保持しているとか、
シンボル<CODE>nil</CODE>を保持しているのとは違う。）
空である関数セルや値セルを参照すると、
その結果は`<SAMP>Symbol's value as variable is void</SAMP>'
（「変数としてのシンボルの値は空」）のようなエラーになります。
<P>

4つの関数、<CODE>symbol-name</CODE>、<CODE>symbol-value</CODE>、
<CODE>symbol-plist</CODE>、<CODE>symbol-function</CODE>は、
シンボルの4つのセルの内容を返します。
以下に、シンボル<CODE>buffer-file-name</CODE>の
4つのセルの内容を表示する例を示します。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(symbol-name 'buffer-file-name)
     => "buffer-file-name"
(symbol-value 'buffer-file-name)
     => "/gnu/elisp/symbols.texi"
(symbol-plist 'buffer-file-name)
     => (variable-documentation 29529)
(symbol-function 'buffer-file-name)
     => #&#60;subr buffer-file-name&#62;
</pre></td></tr></table><P>

このシンボルは、カレントバッファで訪問しているファイルの名前を保持するので、
値セルの内容は本書Emacs Lispマニュアルの本章のソースファイルの名前です。
属性リストセルには、リスト<CODE>(variable-documentation 29529)</CODE>が入っていて、
ドキュメント関数に対してファイル`<TT>DOC-<VAR>version</VAR></TT>'のどこに
変数<CODE>buffer-file-name</CODE>の説明文字列が入っているか伝えます。
（29529は、当該説明文字列の開始位置を表す
`<TT>DOC-<VAR>version</VAR></TT>'の先頭からのオフセット。
<A HREF="elisp_24.html#SEC364">23.1 説明文の基本</A>を参照。）
関数セルには、ファイルの名前を返す関数が入っています。
<CODE>buffer-file-name</CODE>は基本関数の名前です。
これには入力構文はなく、
ハッシュ記法（see 節 <A HREF="elisp_3.html#SEC44">2.3.14 基本関数型</A>）で表示されています。
Lispで書いた関数を表すシンボルでは、
このセルにラムダ式（あるいはバイトコードオブジェクト）が入っています。
<P>

<A NAME="Definitions"></A>
<HR SIZE="6">
<br><A NAME="SEC103"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC102"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC104"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_9.html#SEC109"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Definitions"></A>
<H2> 7.2 シンボルを定義する </H2>
<!--docid::SEC103::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Definitions">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Definitions</a>"<br>
"texi/elisp21/シンボルを定義する"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%B7%A5%F3%A5%DC%A5%EB%A4%F2%C4%EA%B5%C1%A4%B9%A4%EB">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX453"></A>
<P>

Lispにおける<EM>定義</EM>（definition）とは、
特定のシンボルをどのように使うかを意思表示するスペシャルフォームです。
Emacs Lispでは、シンボルを変数と定義したり、
関数（あるいはマクロ）と定義したり、あるいは、それらを独立に定義できます。
<P>

定義を行う構文では、典型的には、値を指定したり、
シンボルを特定の使い方をすると指定したりし、
さらに、そのような使い方をしたときの意味を表すための説明文字列を指定します。
したがって、シンボルを変数として定義するときには、
変数に初期値を与え、その変数の説明文字列を指定できます。
<P>

<CODE>defvar</CODE>と<CODE>defconst</CODE>は、シンボルをグローバル変数として定義する
スペシャルフォームです。
これらは<A HREF="elisp_11.html#SEC141">10.5 グローバル変数を定義する</A>で詳しく説明してあります。
カスタマイズ可能なようにユーザーオプション用の変数を定義するには、
<CODE>defcustom</CODE>（see 節 <A HREF="elisp_14.html#SEC182">13. カスタマイズ定義の書き方</A>）を使います。
<P>

<CODE>defun</CODE>は、シンボルを関数として定義し、
ラムダ式を作ってシンボルの関数セルに格納します。
したがって、このラムダ式がシンボルの関数定義になります。
（用語『関数定義』は、関数セルの内容を意味し、
<CODE>defun</CODE>がシンボルに関数としての定義を与えることからきている。）
<CODE>defsubst</CODE>と<CODE>defalias</CODE>は、関数を定義する別の2つの方法です。
See 節 <A HREF="elisp_12.html#SEC156">11. 関数</A>。
<P>

<CODE>defmacro</CODE>は、シンボルをマクロとして定義します。
マクロオブジェクトを作ってシンボルの関数セルに格納します。
シンボルは、マクロか関数のいずれかであって、
同時に両方にはならないことに注意してください。
というのは、マクロ定義も関数定義も関数セルに収められ、
そのセルにはどんなときでもたった1つのLispオブジェクトしか
保持できないからです。
See 節 <A HREF="elisp_13.html#SEC171">12. マクロ</A>。
<P>

Emacs Lispでは、シンボルを変数や関数として使うための
定義は必須ではありません。
したがって、シンボルをあらかじめ定義しようがしまいが、
<CODE>setq</CODE>を使ってシンボルをグローバル変数にできます。
定義の真の目的は、プログラマに対する指針であり、プログラミングツールなのです。
これらは、コードを読むプログラマに対して、
特定のシンボルを変数として使うのか関数として使うのか、
その<EM>意図</EM>を伝えます。
さらに、`<TT>etags</TT>'や`<TT>make-docfile</TT>'などのユーティリティは、
定義を認識してタグテーブルやファイル`<TT>DOC-<VAR>version</VAR></TT>'に
適切な情報を追加します。
See 節 <A HREF="elisp_24.html#SEC365">23.2 説明文字列の参照</A>。
<P>

<A NAME="Creating Symbols"></A>
<HR SIZE="6">
<br><A NAME="SEC104"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC103"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC105"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_9.html#SEC109"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Creating Symbols"></A>
<H2> 7.3 シンボルの作成とインターン </H2>
<!--docid::SEC104::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Creating%20Symbols">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Creating%20Symbols</a>"<br>
"texi/elisp21/シンボルの作成とインターン"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%B7%A5%F3%A5%DC%A5%EB%A4%CE%BA%EE%C0%AE%A4%C8%A5%A4%A5%F3%A5%BF%A1%BC%A5%F3">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX454"></A>
<P>

GNU Emacs Lispにおいて、どのようにシンボルを作成するかを理解するには、
Lispがそれらをどのように読むかを知る必要があります。
Lispは、同じ文字群を読み取るたびに、同じシンボルをみつけることを保証する
必要があります。
これに失敗すると完全に混乱します。
<P>

<A NAME="IDX455"></A>
<A NAME="IDX456"></A>
<A NAME="IDX457"></A>
<A NAME="IDX458"></A>
<A NAME="IDX459"></A>
Lispリーダがシンボルに出会うと、名前の文字群をすべて読み取ります。
そして、これらの文字群を『ハッシュ化』して、
<EM>オブジェクト配列</EM>（obarray）と呼ばれる表の添字を探します。
ハッシュ化は効率的に探索する手法です。
たとえば、Jan Jonesを電話番号簿の表紙から1ページずつ順に探すかわりに、
Jのページから探し始めます。
これは単純なハッシュ化です。
オブジェクト配列の各要素は、
あるハッシュコードを有するすべてのシンボルを格納した
<EM>バケット</EM>（bucket）です。
ある名前を探すには、その名前のハッシュコードに対応するバケット内の
すべてのシンボルを調べるだけで十分です。
<P>

<A NAME="IDX460"></A>
目的の名前のシンボルがみつかれば、リーダはそのシンボルを使います。
オブジェクト配列に目的の名前のシンボルがなければ、
リーダは新たなシンボルを作成し、それをオブジェクト配列に追加します。
ある名前のシンボルを探したり追加することをシンボルを
<EM>インターン</EM>（interning）するといい、
そのシンボルを<EM>インターンしたシンボル</EM>（interned symbol）と呼びます。
<P>

インターンすることで、各オブジェクト配列には
特定の名前のシンボルが1個だけあることを保証します。
他の似たような名前のシンボルが存在しても、
同じオブジェクト配列には入っていません。
したがって、同じオブジェクト配列を使って読む限り、
リーダは同じ名前に対して同じシンボルを得ることができます。
<P>

<A NAME="IDX461"></A>
<A NAME="IDX462"></A>
<A NAME="IDX463"></A>
すべてのシンボルがオブジェクト配列に入っているとは限りません。
実際、どのオブジェクト配列にも属さないシンボルがいくつかあります。
これらを<EM>インターンしてないシンボル</EM>（uninterned symbols）と呼びます。
インターンしてないシンボルにも、他のシンボルと同様に4つのセルがあります。
しかし、それを参照する手段は、他のオブジェクトを介して探すか、
変数の値として探すしかありません。
<P>

Emacs Lispでは、オブジェクト配列は実際にはベクトルです。
ベクトルの各要素はバケットです。
その値は、そのバケットにハッシュ化される名前のインターンしたシンボルであるか、
そのバケットが空ならば0です。
インターンした各シンボルには、バケットのつぎのシンボルを指す
（ユーザーには見えない）内部的なリンクがあります。
このリンクは見えないので、<CODE>mapatoms</CODE>（下記）を使う以外には、
オブジェクト配列内のすべてのシンボルを探す方法はありません。
バケット内でのシンボルの順序は関係ありません。
<P>

空のオブジェクト配列では、各要素は0です。
<CODE>(make-vector <VAR>length</VAR> 0)</CODE>でオブジェクト配列を作成できます。
<STRONG>これは、オブジェクト配列を作成する唯一の正当な方法です。</STRONG>
長さとして素数を用いると、ハッシュ化の結果がよい傾向があります。
2の巾より1小さい長さもよい結果になります。
<P>

<STRONG>読者自身でオブジェクト配列にシンボルを入れないでください。</STRONG>
うまくいきません。
オブジェクト配列にシンボルを正しく入れられるのは<CODE>intern</CODE>だけです。
<P>

<A NAME="IDX464"></A>
<BLOCKQUOTE>
<B>Common Lispに関した注意：</B><CODE> </CODE>
Common Lispでは、1つのシンボルを複数のオブジェクト配列に入れることができる。
</BLOCKQUOTE>
<P>

下記の関数のほとんどは、引数に名前を取り、
場合によってはオブジェクト配列を引数に取ります。
名前が文字列でなかったり、オブジェクト配列がベクトルでないと、
エラー<CODE>wrong-type-argument</CODE>を通知します。
<P>

<A NAME="IDX465"></A>
<DL>
<DT><U>Function:</U> <B>symbol-name</B> <I>symbol</I>
<DD>この関数は、<VAR>symbol</VAR>の名前を表す文字列を返す。
たとえば、つぎのとおり。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(symbol-name 'foo)
     => "foo"
</pre></td></tr></table><P>

<STRONG>警告：</STRONG><CODE> </CODE>
文字列の文字を置き換えるとシンボルの名前を変更するが、
オブジェクト配列は更新できないので変更しないこと！
</DL>
<P>

<A NAME="IDX466"></A>
<DL>
<DT><U>Function:</U> <B>make-symbol</B> <I>name</I>
<DD>この関数は、<VAR>name</VAR>（文字列であること）を名前とする
新たに割り付けたインターンしていないシンボルを返す。
その値と関数定義は空であり、属性リストは<CODE>nil</CODE>である。
以下の例では、<CODE>sym</CODE>の値は<CODE>foo</CODE>と<CODE>eq</CODE>ではない。
なぜなら、名前は`<SAMP>foo</SAMP>'ではあるが、
インターンしていない別のシンボルであるため。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(setq sym (make-symbol "foo"))
     => foo
(eq sym 'foo)
     => nil
</pre></td></tr></table></DL>
<P>

<A NAME="IDX467"></A>
<DL>
<DT><U>Function:</U> <B>intern</B> <I>name &#38;optional obarray</I>
<DD>この関数は、<VAR>name</VAR>を名前とするインターンしたシンボルを返す。
そのようなシンボルがオブジェクト配列<VAR>obarray</VAR>に存在しなければ、
<CODE>intern</CODE>は新たなものを作成し、それをオブジェクト配列に追加してから、
それを返す。
<VAR>obarray</VAR>を省略すると、グローバル変数<CODE>obarray</CODE>の値を使う。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(setq sym (intern "foo"))
     => foo
(eq sym 'foo)
     => t

(setq sym1 (intern "foo" other-obarray))
     => foo
(eq sym 'foo)
     => nil
</pre></td></tr></table></DL>
<P>

<A NAME="IDX468"></A>
<BLOCKQUOTE>
<B>Common Lispに関した注意：</B><CODE> </CODE>
Common Lispでは、既存のシンボルをオブジェクト配列にインターンできる。
Emacs Lispでは、これはできない。
なぜなら、<CODE>intern</CODE>の引数は文字列である必要があり、
シンボルではない。
</BLOCKQUOTE>
<P>

<A NAME="IDX469"></A>
<DL>
<DT><U>Function:</U> <B>intern-soft</B> <I>name &#38;optional obarray</I>
<DD>この関数は、<VAR>obarray</VAR>内の<VAR>name</VAR>を名前とするシンボルを返す。
ただし、その名前のシンボルが<VAR>obarray</VAR>になければ<CODE>nil</CODE>を返す。
したがって、<CODE>intern-soft</CODE>を用いて、指定した名前のシンボルが
インターンされているかどうか調べられる。
<VAR>obarray</VAR>を省略すると、グローバル変数<CODE>obarray</CODE>の値を使う。
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(intern-soft "frazzle")        ; そのようなシンボルは存在しない
     => nil
(make-symbol "frazzle")        ; インターンしないものを作る
     => frazzle
(intern-soft "frazzle")        ; そのようなものはみつからない
     => nil
(setq sym (intern "frazzle"))  ; インターンしたものを作る
     => frazzle
(intern-soft "frazzle")        ; そのようなものがみつかった！
     => frazzle
(eq sym 'frazzle)              ; しかも、それらは同一
     => t
</FONT></pre></td></tr></table></DL>
<P>

<A NAME="IDX470"></A>
<DL>
<DT><U>Variable:</U> <B>obarray</B>
<DD>この変数は、<CODE>intern</CODE>や<CODE>read</CODE>が使う標準のオブジェクト配列。
</DL>
<P>

<A NAME="IDX471"></A>
<DL>
<DT><U>Function:</U> <B>mapatoms</B> <I>function &#38;optional obarray</I>
<DD>この関数は、オブジェクト配列<VAR>obarray</VAR>の各シンボルについて、
1回ずつ<VAR>function</VAR>を呼び出す。
そして、<CODE>nil</CODE>を返す。
<VAR>obarray</VAR>を省略すると、通常のシンボル向けの標準のオブジェクト配列である
<CODE>obarray</CODE>の値をデフォルトにする。
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(setq count 0)
     => 0
(defun count-syms (s)
  (setq count (1+ count)))
     => count-syms
(mapatoms 'count-syms)
     => nil
count
     => 1871
</FONT></pre></td></tr></table><P>

<CODE>mapatoms</CODE>を使った別の例については、
<A HREF="elisp_24.html#SEC365">23.2 説明文字列の参照</A>の<CODE>documentation</CODE>を参照。
</DL>
<P>

<A NAME="IDX472"></A>
<DL>
<DT><U>Function:</U> <B>unintern</B> <I>symbol &#38;optional obarray</I>
<DD>この関数は、オブジェクト配列<VAR>obarray</VAR>から<VAR>symbol</VAR>を削除する。
<CODE>symbol</CODE>が実際にはオブジェクト配列内になければ、
<CODE>unintern</CODE>はなにもしない。
<VAR>obarray</VAR>が<CODE>nil</CODE>であると、現在のオブジェクト配列を使う。
<P>

<VAR>symbol</VAR>のシンボルのかわりに文字列を指定すると、
それはシンボルの名前を表す。
そして、<CODE>unintern</CODE>はその名前のシンボルを（あれば）オブジェクト配列から
削除する。
そのようなシンボルがなければ、<CODE>unintern</CODE>はなにもしない。
<P>

<CODE>unintern</CODE>は、シンボルを削除したときには<CODE>t</CODE>を返す。
さもなければ<CODE>nil</CODE>を返す。
</DL>
<P>

<A NAME="Property Lists"></A>
<HR SIZE="6">
<br><A NAME="SEC105"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC104"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC106"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC101"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_9.html#SEC109"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Property Lists"></A>
<H2> 7.4 属性リスト </H2>
<!--docid::SEC105::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Property%20Lists">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Property%20Lists</a>"<br>
"texi/elisp21/属性リスト"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C2%B0%C0%AD%A5%EA%A5%B9%A5%C8">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<A NAME="IDX473"></A>
<A NAME="IDX474"></A>
<P>

<EM>属性リスト</EM>（property list、略して<EM>plist</EM>）とは、
シンボルの属性リストセルに格納された対になった要素から成るリストです。
各対は、属性名（通常、シンボル）を属性、すなわち、属性値に対応付けます。
属性リストは、一般に、シンボルに関する情報を記録します。
変数としての説明文字列、定義されているファイルの名前、
言語理解システムにおいては（語を表す）シンボルの文法クラスなどです。
<P>

文字列内やバッファ内の文字位置も属性リストを持てます。
See 節 <A HREF="elisp_32.html#SEC513">31.19 テキスト属性</A>。
<P>

属性リスト内の属性名と属性値は、任意のLispオブジェクトでかまいませんが、
普通、属性名はシンボルです。
属性リスト関数は、<CODE>eq</CODE>を使って属性名を比較します。
コンパイラをロードした際のシンボル<CODE>progn</CODE>の属性リストをつぎに示します。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(lisp-indent-function 0 byte-compile byte-compile-progn)
</pre></td></tr></table><P>

ここで、<CODE>lisp-indent-function</CODE>や<CODE>byte-compile</CODE>は属性名であり、
他の2つの要素は対応する属性値です。
<P>

<BLOCKQUOTE><TABLE BORDER=0 CELLSPACING=0> 
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_8.html#SEC106">7.4.1 属性リストと連想リスト</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Comparison of the advantages of property
                                  lists and association lists.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_8.html#SEC107">7.4.2 シンボル向け属性リスト関数</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Functions to access symbols' property lists.</TD></TR>
<TR><TD ALIGN="left" VALIGN="TOP"><A HREF="elisp_8.html#SEC108">7.4.3 シンボルの外部の属性リスト</A></TD><TD>&nbsp;&nbsp;</TD><TD ALIGN="left" VALIGN="TOP">Accessing property lists stored elsewhere.</TD></TR>
</TABLE></BLOCKQUOTE>
<P>

<A NAME="Plists and Alists"></A>
<HR SIZE="6">
<br><A NAME="SEC106"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC105"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC107"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Plists and Alists"></A>
<H3> 7.4.1 属性リストと連想リスト </H3>
<!--docid::SEC106::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Plists%20and%20Alists">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Plists%20and%20Alists</a>"<br>
"texi/elisp21/属性リストと連想リスト"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%C2%B0%C0%AD%A5%EA%A5%B9%A5%C8%A4%C8%CF%A2%C1%DB%A5%EA%A5%B9%A5%C8">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

<A NAME="IDX475"></A>
<A NAME="IDX476"></A>
連想リスト（see 節 <A HREF="elisp_6.html#SEC92">5.8 連想リスト</A>）は、
属性リストに非常によく似ています。
連想リストと異なり、属性名は一意である必要があるので、
属性リスト内での対の出現順序は関係ありません。
<P>

さまざまなLisp関数やLisp変数に情報を付加するには、
属性リストは連想リストより優れています。
読者のプログラムで1つの連想リストにすべての連想を入れておいたとすると、
1つの連想を探すたびに、リスト全体を探索する必要があります。
これには時間がかかります。
一方、同じ情報を関数名や変数自身の属性リストに保持しておけば、
各探索では1つの属性リストを走査するだけでよく、
属性リストは、普通、短いものです。
このため、変数の説明文字列を<CODE>variable-documentation</CODE>という名前の
属性に記録しているのです。
同様に、バイトコンパイラも、
特別な処理が必要な関数を属性を使って記録しています。
<P>

しかしながら、連想リストにもそれ独自の利点があります。
読者のアプリケーションに依存しますが、
属性を更新するより、連想リストの先頭に連想を追加するほうが速いです。
あるシンボルのすべての属性は同一の属性リストに格納してあるので、
1つの属性名を異なる目的に使うと衝突します。
（この理由から、プログラムで普通に使う
変数名や関数名の接頭辞で始まる属性名を選ぶなどして、
一意な属性名を選ぶのがよい。）
連想リストは、リストの先頭に要素を追加し、先頭から要素を削除するので、
スタックのように使えます。
属性リストでは、これは不可能です。
<P>

<A NAME="Symbol Plists"></A>
<HR SIZE="6">
<br><A NAME="SEC107"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC106"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC108"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Symbol Plists"></A>
<H3> 7.4.2 シンボル向け属性リスト関数 </H3>
<!--docid::SEC107::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Symbol%20Plists">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Symbol%20Plists</a>"<br>
"texi/elisp21/シンボル向け属性リスト関数"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%B7%A5%F3%A5%DC%A5%EB%B8%FE%A4%B1%C2%B0%C0%AD%A5%EA%A5%B9%A5%C8%B4%D8%BF%F4">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

<A NAME="IDX477"></A>
<DL>
<DT><U>Function:</U> <B>symbol-plist</B> <I>symbol</I>
<DD>この関数は<VAR>symbol</VAR>の属性リストを返す。
</DL>
<P>

<A NAME="IDX478"></A>
<DL>
<DT><U>Function:</U> <B>setplist</B> <I>symbol plist</I>
<DD>この関数は、<VAR>symbol</VAR>の属性リストを<VAR>plist</VAR>とする。
通常、<VAR>plist</VAR>は正しい形の属性リストであるべきだが強要されない。
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(setplist 'foo '(a 1 b (2 3) c nil))
     => (a 1 b (2 3) c nil)
(symbol-plist 'foo)
     => (a 1 b (2 3) c nil)
</FONT></pre></td></tr></table><P>

普通の使い方を意図していない特別なオブジェクト配列内のシンボルに対しては、
属性リストセルの非標準な使い方にも意味があろう。
実際、略語機構（see 節 <A HREF="elisp_36.html#SEC576">35. 略語と略語の展開 <EM>(2003/10/30)</EM></A>）ではそのようにしている。
</DL>
<P>

<A NAME="IDX479"></A>
<DL>
<DT><U>Function:</U> <B>get</B> <I>symbol property</I>
<DD>この関数は、<VAR>symbol</VAR>の属性リストから
<VAR>property</VAR>という名前の属性の値を探す。
そのような属性がなければ、<CODE>nil</CODE>を返す。
つまり、<CODE>nil</CODE>という値と属性の欠如を区別できない。
<P>

名前<VAR>property</VAR>は既存の属性名と<CODE>eq</CODE>で比較するため、
どんなオブジェクトでも正当な属性である。
<P>

例については、<CODE>put</CODE>を参照。
</DL>
<P>

<A NAME="IDX480"></A>
<DL>
<DT><U>Function:</U> <B>put</B> <I>symbol property value</I>
<DD>この関数は、<VAR>symbol</VAR>の属性リストにおいて、
属性名<VAR>property</VAR>の古い属性値を<VAR>value</VAR>で置き換える。
関数<CODE>put</CODE>は<VAR>value</VAR>を返す。
<P>

<TABLE><tr><td>&nbsp;</td><td class=smallexample><FONT SIZE=-1><pre>(put 'fly 'verb 'transitive)
     =>'transitive
(put 'fly 'noun '(a buzzing little bug))
     => (a buzzing little bug)
(get 'fly 'verb)
     => transitive
(symbol-plist 'fly)
     => (verb transitive noun (a buzzing little bug))
</FONT></pre></td></tr></table></DL>
<P>

<A NAME="Other Plists"></A>
<HR SIZE="6">
<br><A NAME="SEC108"> </A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_8.html#SEC107"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_9.html#SEC109"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<A NAME="Other Plists"></A>
<H3> 7.4.3 シンボルの外部の属性リスト </H3>
<!--docid::SEC108::-->
<div class="info">URL="<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Other%20Plists">http://www.bookshelf.jp/cgi-bin/goto.cgi?file=elisp21&node=Other%20Plists</a>"<br>
"texi/elisp21/シンボルの外部の属性リスト"への<a href="http://www.bookshelf.jp/pukiwiki/pukiwiki.php?refer=Meadow%20memo&cmd=read&page=texi%2Felisp21%2F%A5%B7%A5%F3%A5%DC%A5%EB%A4%CE%B3%B0%C9%F4%A4%CE%C2%B0%C0%AD%A5%EA%A5%B9%A5%C8">コメント</a>(無し)</div><FORM METHOD="GET" ACTION="http://www.bookshelf.jp/cgi-bin/wwwsrch.cgi"><div class="info">検索<INPUT TYPE=text NAME=WORD SIZE=30><INPUT TYPE=hidden NAME=index VALUE=memo CHECKED><INPUT TYPE=hidden NAME=target VALUE=all CHECKED><INPUT TYPE=hidden NAME="memoall" VALUE="on" CHECKED><INPUT TYPE=hidden NAME=ANDOR VALUE=and CHECKED><INPUT TYPE=radio NAME=lisp VALUE=off CHECKED>全文<INPUT TYPE=radio NAME=lisp VALUE=on>Elisp<INPUT TYPE=submit VALUE="検索"></div></FORM>
<P>

シンボル以外の場所に保存した属性リストの操作に便利な2つの関数があります。
<P>

<A NAME="IDX481"></A>
<DL>
<DT><U>Function:</U> <B>plist-get</B> <I>plist property</I>
<DD>これは、属性リスト<VAR>plist</VAR>に保存されている属性<VAR>property</VAR>の値を返す。
たとえば、つぎのとおり。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(plist-get '(foo 4) 'foo)
     => 4
</pre></td></tr></table></DL>
<P>

<A NAME="IDX482"></A>
<DL>
<DT><U>Function:</U> <B>plist-put</B> <I>plist property value</I>
<DD>これは、属性リスト<VAR>plist</VAR>に、
<VAR>property</VAR>の値として<VAR>value</VAR>を格納する。
これは<VAR>plist</VAR>を破壊的に変更するか、あるいは、
古いものを変更せずに新たなリスト構造を構築する。
関数は変更した属性リストを返すので、
<VAR>plist</VAR>を保持していたところへ保存し直せる。
たとえば、つぎのとおり。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(setq my-plist '(bar t foo 4))
     => (bar t foo 4)
(setq my-plist (plist-put my-plist 'foo 69))
     => (bar t foo 69)
(setq my-plist (plist-put my-plist 'quux '(a)))
     => (bar t foo 69 quux (a))
</pre></td></tr></table></DL>
<P>

つぎのようにして、<CODE>plist-put</CODE>を用いて<CODE>put</CODE>を定義できます。
<P>

<TABLE><tr><td>&nbsp;</td><td class=example><pre>(defun put (symbol prop value)
  (setplist symbol
            (plist-put (symbol-plist symbol) prop value)))
</pre></td></tr></table><A NAME="Evaluation"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[ &lt;&lt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[ &gt;&gt; ]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp.html#SEC_Top">表紙</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_toc.html#SEC_Contents">目次</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="elisp_48.html#SEC681">索引</A>]</TD>
<TD> [<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=search">検索</a>] [<a href="#top">上端</a> / <a href="#bottom">下端</a>]</TD></TR></TABLE>
<a name="bottom"> </a>
<script type="text/javascript" src="style2.js"></script>
<div class="footer">
    <br>
    このページはMeadow (Emacs) の紹介ページです <br>
このWebページの各文書は自由にリンク・複製・再配布・改変していただいて構いません．
<br>ただし，複製・再配布・改変の場合は Meadow Memo のURLを記載しておいて下さい．<br>
<a href="http://www.bookshelf.jp/cgi-bin/goto.cgi?file=meadow&node=about%20link">Medow memoへのリンクについて</a>．<br>

間違い，要望等があれば<a href="mailto:akihisa@mail.ne.jp">akihisa@mail.ne.jp</a> か下記でどうぞ<br>

<br>

<FORM METHOD="post" ACTION="http://www.bookshelf.jp/cgi-bin/wwwmail.cgi" >
お名前：<INPUT TYPE="text" NAME="name" SIZE="30" MAXLENGTH="40" VALUE="ななしさん"><br>
メールアドレス：<INPUT TYPE="text" NAME="EMAIL" SIZE="25" MAXLENGTH="60" VALUE="secret@mail.adr"><br>
<input type="hidden" name="HPAGE" value="">
つっこみ：<br><TEXTAREA NAME="MESSAGE" ROWS="5" COLS="50">
</TEXTAREA><br><br>
<INPUT TYPE="submit" VALUE="送信">
<INPUT TYPE="reset" VALUE="クリア">
</FORM>

<br><A HREF="http://www.bookshelf.jp/cgi-bin/xct.cgi">ページ別カウンタ</a>
<br> Since 2002/12/13 <br>
</div>

</BODY>

</HTML>
