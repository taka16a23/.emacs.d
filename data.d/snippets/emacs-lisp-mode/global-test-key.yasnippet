# -*- mode: snippet -*-
# name: global-test-key
# key: (global-test-key
# condition: (not (at-string|comment-p))
# --
(global-set-key (kbd "s-${1:@}") '${2:`(save-excursion
  (let ((re "defun[ \t]*\\\\([a-z0-9].+\\\\)[ \t]"))
    (cond ((or
          (re-search-backward re nil t)
          (re-search-forward  re nil t))
          (match-string 1))
          (t ""))))`}$0